{"version":3,"file":"index.js","sources":["../../src/hooks/useDownShift.ts","../../src/hooks/useDebouncedFetchSections.ts","../../src/hooks/useDebounce.ts","../../src/hooks/useCioAutocomplete.ts","../../src/hooks/usePrevious.ts","../../src/hooks/useCioClient.ts","../../src/hooks/useFetchRecommendationPod.ts","../../src/utils.ts","../../src/components/Autocomplete/CioAutocompleteProvider.tsx","../../src/components/Autocomplete/SectionItem/SectionItem.tsx","../../src/typeGuards.ts","../../src/components/Autocomplete/SectionItemsList/SectionItemsList.tsx","../../src/components/Autocomplete/AutocompleteResults/AutocompleteResults.tsx","../../src/components/Autocomplete/SearchInput/SearchInput.tsx","../../src/components/Autocomplete/CioAutocomplete/CioAutocomplete.tsx","../../node_modules/style-inject/dist/style-inject.es.js"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n"],"names":["idCounter","useDebouncedFetchSection","query","cioClient","autocompleteSections","sectionsData","setSectionsData","useState","debouncedSearchTerm","value","delay","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useDebounce","autocompleteParameters","resultsPerSection","reduce","acc","sectionConfig","identifier","numResults","autocomplete","getAutocompleteResults","then","response","newSectionsData","Object","keys","sections","forEach","section","map","item","defaultSections","type","useCioAutocomplete","options","defaultPlaceholder","onSubmit","onChange","openOnFocus","apiKey","cioJsClient","placeholder","zeroStateSections","setQuery","previousQuery","ref","useRef","current","usePrevious","setCioClient","client","ConstructorIOClient","sendTrackingEvents","useCioClient","zeroStateSectionsActive","length","activeSections","Array","isArray","console","error","filter","config","recommendationsSections","autocompleteResults","recommendationsResults","recommendationPods","recommendationResults","setRecommendationResults","async","responses","Promise","all","podId","parameters","recommendations","getRecommendations","recommendationPodResults","pod","results","id","fetchRecommendationResults","useFetchRecommendationPod","sectionResults","activeSectionsWithData","data","customData","undefined","push","items","downshift","useCombobox","itemToString","onInputValueChange","inputValue","onSelectedItemChange","selectedItem","originalQuery","_a","url","tracker","trackSearchSubmit","original_query","trackAutocompleteSelect","useDownShift","isOpen","getMenuProps","getLabelProps","openMenu","closeMenu","className","getItemProps","index","sectionIdentifier","indexOffset","find","getIndexOffset","replace","getInputProps","onFocus","trackInputFocus","getFormProps","event","preventDefault","CioAutocompleteContext","createContext","CioAutocompleteProvider","props","children","restProps","cioAutoComplete","React","createElement","Provider","SectionItem","useContext","defaultChildren","image_url","isProduct","Fragment","src","alt","SectionItemsList","DefaultRenderSectionItemsList","sectionName","displayName","role","str","toUpperCase","key","AutocompleteResults","DefaultRenderResults","hasResults","some","content","menuProps","SearchInput","DefaultRenderInput","inputProps","hidden","onClick","document","getElementById","focus","stroke","fill","strokeWidth","viewBox","height","width","xmlns","d","disabled","CioAutocomplete","css","insertAt","head","getElementsByTagName","style","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode"],"mappings":"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"}