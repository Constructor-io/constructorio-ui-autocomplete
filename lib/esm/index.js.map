{"version":3,"file":"index.js","sources":["../../src/hooks/useDownShift.ts","../../src/hooks/useDebouncedFetchSections.ts","../../src/hooks/useDebounce.ts","../../src/hooks/useCioAutocomplete.ts","../../src/hooks/usePrevious.ts","../../src/hooks/useCioClient.ts","../../src/hooks/useFetchRecommendationPod.ts","../../src/utils.ts","../../src/components/Autocomplete/CioAutocompleteProvider.tsx","../../src/components/Autocomplete/SectionItem/SectionItem.tsx","../../src/typeGuards.ts","../../src/components/Autocomplete/SectionItemsList/SectionItemsList.tsx","../../src/components/Autocomplete/AutocompleteResults/AutocompleteResults.tsx","../../node_modules/style-inject/dist/style-inject.es.js","../../src/components/Autocomplete/SearchInput/SearchInput.tsx","../../src/components/Autocomplete/CioAutocomplete/CioAutocomplete.tsx"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,"function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n",null,null],"names":["idCounter","useDebouncedFetchSection","query","cioClient","autocompleteSections","sectionsData","setSectionsData","useState","debouncedSearchTerm","value","delay","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useDebounce","autocompleteParameters","resultsPerSection","reduce","acc","sectionConfig","identifier","_a","parameters","numResults","autocomplete","getAutocompleteResults","then","response","newSectionsData","Object","keys","sections","forEach","section","map","item","defaultSections","type","useCioAutocomplete","options","defaultPlaceholder","onSubmit","onChange","openOnFocus","apiKey","cioJsClient","placeholder","zeroStateSections","setQuery","previousQuery","ref","useRef","current","usePrevious","setCioClient","client","ConstructorIOClient","sendTrackingEvents","useCioClient","zeroStateSectionsActive","length","activeSections","Array","isArray","console","error","filter","config","recommendationsSections","autocompleteResults","recommendationsResults","recommendationPods","recommendationResults","setRecommendationResults","async","responses","Promise","all","podId","recommendations","getRecommendations","recommendationPodResults","pod","results","id","fetchRecommendationResults","useFetchRecommendationPod","sectionResults","activeSectionsWithData","data","customData","undefined","push","items","downshift","useCombobox","itemToString","onInputValueChange","inputValue","onSelectedItemChange","selectedItem","originalQuery","url","tracker","trackSearchSubmit","original_query","trackAutocompleteSelect","useDownShift","isOpen","getMenuProps","getLabelProps","openMenu","closeMenu","getComboboxProps","className","getItemProps","index","sectionIdentifier","indexOffset","find","getIndexOffset","replace","getInputProps","onFocus","trackInputFocus","getFormProps","event","preventDefault","CioAutocompleteContext","createContext","CioAutocompleteProvider","props","children","restProps","cioAutoComplete","React","createElement","Provider","SectionItem","useContext","defaultChildren","image_url","isProduct","Fragment","src","alt","SectionItemsList","DefaultRenderSectionItemsList","sectionName","displayName","str","toUpperCase","key","AutocompleteResults","DefaultRenderResults","hasResults","some","content","menuProps","css","insertAt","document","head","getElementsByTagName","style","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","SearchInput","DefaultRenderInput","inputProps","hidden","onClick","getElementById","focus","stroke","fill","strokeWidth","viewBox","height","width","xmlns","d","disabled","CioAutocomplete"],"mappings":"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"}