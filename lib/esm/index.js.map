{"version":3,"file":"index.js","sources":["../../src/hooks/useCioClient.ts","../../src/hooks/useDebouncedFetchSections.ts","../../src/hooks/useDebounce.ts","../../src/hooks/useCioAutocomplete.ts","../../src/hooks/usePrevious.ts","../../src/hooks/useFetchRecommendationPod.ts","../../src/hooks/useDownShift.ts","../../src/utils.ts","../../src/components/Autocomplete/CioAutocompleteProvider.tsx","../../src/components/Autocomplete/SectionItem/SectionItem.tsx","../../src/typeGuards.ts","../../src/components/Autocomplete/SectionItemsList/SectionItemsList.tsx","../../src/components/Autocomplete/AutocompleteResults/AutocompleteResults.tsx","../../node_modules/style-inject/dist/style-inject.es.js","../../src/components/Autocomplete/SearchInput/SearchInput.tsx","../../src/components/Autocomplete/CioAutocomplete/CioAutocomplete.tsx"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,"function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n",null,null],"names":["useDebouncedFetchSection","query","cioClient","autocompleteSections","sectionsData","setSectionsData","useState","debouncedSearchTerm","value","delay","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useDebounce","options","resultsPerSection","reduce","acc","sectionConfig","identifier","_a","parameters","numResults","autocomplete","getAutocompleteResults","then","response","newSectionsData","Object","keys","sections","forEach","section","map","item","defaultSections","type","useCioAutocomplete","defaultPlaceholder","onSubmit","onChange","openOnFocus","apiKey","cioJsClient","placeholder","zeroStateSections","setQuery","previousQuery","ref","useRef","current","usePrevious","setCioClient","client","ConstructorIOClient","sendTrackingEvents","queryParams","autocomplete_key","identityModuleOptions","cookie_domain","useCioClient","zeroStateSectionsActive","length","activeSections","filter","config","recommendationsSections","autocompleteResults","recommendationsResults","recommendationPods","recommendationResults","setRecommendationResults","Array","isArray","async","responses","Promise","all","podId","recommendations","getRecommendations","recommendationPodResults","pod","results","id","fetchRecommendationResults","useFetchRecommendationPod","sectionResults","activeSectionsWithData","data","customData","undefined","push","items","downshift","useCombobox","itemToString","onInputValueChange","inputValue","onSelectedItemChange","selectedItem","originalQuery","url","tracker","trackSearchSubmit","original_query","trackAutocompleteSelect","useDownShift","isOpen","getMenuProps","getLabelProps","openMenu","closeMenu","getComboboxProps","className","getItemProps","index","sectionIdentifier","indexOffset","find","getIndexOffset","getInputProps","onFocus","trackInputFocus","getFormProps","event","preventDefault","CioAutocompleteContext","createContext","CioAutocompleteProvider","props","children","restProps","cioAutoComplete","React","createElement","Provider","SectionItem","useContext","defaultChildren","image_url","isProduct","Fragment","src","alt","SectionItemsList","DefaultRenderSectionItemsList","sectionName","displayName","replace","str","toUpperCase","key","AutocompleteResults","DefaultRenderResults","hasResults","some","content","menuProps","css","insertAt","document","head","getElementsByTagName","style","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","SearchInput","DefaultRenderInput","inputProps","hidden","onClick","getElementById","focus","stroke","fill","strokeWidth","viewBox","height","width","xmlns","d","disabled","CioAutocomplete"],"mappings":"yMAuCA,MC5BMA,EAA2B,CAC/BC,EACAC,EACAC,KAEA,MAAOC,EAAcC,GAAmBC,EAAqC,CAAE,GACzEC,ECdY,EAACC,EAAeC,EAAQ,OAE1C,MAAOC,EAAgBC,GAAqBL,EAASE,GAgBrD,OAfAI,GACE,KAEE,MAAMC,EAAUC,YAAW,KACzBH,EAAkBH,EAAM,GACvBC,GAIH,MAAO,KACLM,aAAaF,EAAQ,CACtB,GAEH,CAACL,EAAOC,IAEHC,CAAc,EDJOM,CAAYf,GAElCgB,EAAqD,CAAA,EA+B3D,OA7BId,IACFc,EAAQC,kBAAoBf,EAAqBgB,QAC/C,CAACC,EAAKC,WAAkB,MAAC,IACpBD,EACH,CAACC,EAAcC,aAAwC,QAA3BC,EAAAF,eAAAA,EAAeG,kBAAY,IAAAD,OAAA,EAAAA,EAAAE,aAAc,EACrE,GACF,CAAE,IAINb,GAAU,KACJL,EACFL,SAAAA,EAAWwB,aACRC,uBAAuBpB,EAAqBU,GAC5CW,MAAMC,IACL,MAAMC,EAA8C,CAAA,EACpDC,OAAOC,KAAKH,EAASI,UAAUC,SAASC,IACtCL,EAAgBK,GAAWN,EAASI,SAASE,GAASC,KAAKC,IAAgB,IACtEA,EACHF,aACC,IAEL9B,EAAgByB,EAAgB,IAE1BvB,GACVF,EAAgB,CAAE,EACnB,GACA,CAACE,EAAqBL,IAElBE,CAAY,EEvCRkC,EAA0C,CACrD,CACEhB,WAAY,qBACZiB,KAAM,gBAER,CACEjB,WAAY,WACZiB,KAAM,iBAMJC,EAAsBvB,IAC1B,MAAMwB,EAAqB,oCACrBC,SACJA,EAAQC,SACRA,EAAQC,YACRA,EAAWC,OACXA,EAAMC,YACNA,EAAWC,YACXA,EAAcN,EAAkBR,SAChCA,EAAWK,EAAeU,kBAC1BA,GACE/B,GAEGhB,EAAOgD,GAAY3C,EAAS,IAC7B4C,ECpCY,CAAC1C,IACnB,MAAM2C,EAAMC,IAIZ,OAHAxC,GAAU,KACRuC,EAAIE,QAAU7C,CAAK,GAClB,CAACA,IACG2C,EAAIE,OAAO,ED+BIC,CAAYrD,GAC5BC,EHA2B,GAAG2C,SAAQC,kBAC5C,MAAO5C,EAAWqD,GAAgBjD,EAASwC,GAqB3C,OAnBAlC,GAAU,KACR,GAAIiC,IAAWC,EAAa,CAC1B,MAAMU,EAAoB,IAAIC,EAAoB,CAChDZ,OAAQA,EACRa,oBAAoB,EACpBC,YAAa,CACXC,iBAAkBf,GAEpBgB,sBAAuB,CACrBC,cAAe,MAInBP,EAAaC,EACd,MAAUV,GACTS,EAAaT,EACd,GACA,CAACD,EAAQC,IAEL5C,CAAU,EGtBC6D,CAAa,CAAElB,SAAQC,gBAEnCkB,GAA2B/D,EAAMgE,QAAUjB,EAE3CkB,EAAiBF,EAA0BhB,EAAoBf,EAE/D9B,EAAuB+D,aAAA,EAAAA,EAAgBC,QAC1CC,GAAiD,iBAAhBA,EAAO7B,OAA4B6B,EAAO7B,OAExE8B,EAA0BH,aAAA,EAAAA,EAAgBC,QAC7CC,GAAiD,oBAAhBA,EAAO7B,OAGrC+B,EAAsBtE,EAAyBC,EAAOC,EAAWC,GACjEoE,EEjD0B,EAChCrE,EACAsE,KAEA,MAAOC,EAAuBC,GAA4BpE,EACxD,CAAE,GA0BJ,OAvBAM,GAAU,KACHV,GAAcyE,MAAMC,QAAQJ,IAAqD,IAA9BA,EAAmBP,QACxCY,WACjC,MAAMC,QAAkBC,QAAQC,IAC9BR,EAAmBpC,KAAI,EAAGd,WAAY2D,EAAOzD,gBAC3CtB,EAAUgF,gBAAgBC,mBAAmBF,EAAOzD,MAGlD4D,EAA2B,CAAA,EAEjCN,EAAU5C,SAAQ,EAAGL,eACnB,MAAMwD,IAAEA,EAAGC,QAAEA,GAAYzD,EACzBuD,EAAyBC,EAAIE,IAAMD,EAAQlD,KAAKC,IAAgB,IAC3DA,EACHF,QAASkD,aAAA,EAAAA,EAAKE,MACb,IAGLb,EAAyBU,EAAyB,EAEpDI,EAA4B,GAC3B,CAACtF,IAEGuE,CAAqB,EFkBGgB,CAA0BvF,EAAWmE,GAC9DqB,EAAiB,IAAKpB,KAAwBC,GAE9CoB,EAAiD,GAEvDzB,SAAAA,EAAgBhC,SAASkC,IACvB,MAAM9C,WAAEA,EAAYsE,KAAMC,GAAezB,EACnCwB,EAAOF,EAAepE,IAAeuE,EAEvCD,QAAiBE,IAATF,GACVD,EAAuBI,KAAK,IAAK3B,EAAQwB,QAC1C,IAGH,MAAMI,EAAgB,GAEtBL,SAAAA,EAAwBzD,SAASkC,KAC3BA,eAAAA,EAAQwB,OACVI,EAAMD,QAAQ3B,EAAOwB,KACtB,IAGH,MAAMK,EG1D2B,GACjChD,WACA+C,QACAtD,WACAxC,YACAgD,gBAAgB,GAChBP,cAEOuD,EAAY,CACjBF,QACAG,aAAe9D,GAAUA,EAAOA,EAAK7B,MAAQ,GAC7C4F,mBAAoBvB,OAASwB,aAAa,OACxCpD,EAASoD,GACL1D,GACFA,EAAS0D,EACV,EAEHC,sBAAqBC,aAAEA,UACjBA,IACFtD,EAASsD,EAAa/F,OAClBkC,IAAY6D,eAAAA,EAAc/F,QAC5BkC,EAAS,CAAEL,KAAMkE,EAAcC,cAAetD,KAE5CqD,eAAAA,EAAc/F,UACS,QAApBe,EAAAgF,aAAA,EAAAA,EAAcX,YAAM,IAAArE,OAAA,EAAAA,EAAAkF,MACvBvG,SAAAA,EAAWwG,QAAQC,kBAAkBJ,EAAa/F,MAAO,CACvDoG,eAAgB1D,IAGpBhD,SAAAA,EAAWwG,QAAQG,wBAAwBN,EAAa/F,MAAO,CAC7DoG,eAAgB1D,EAChBf,QAASoE,EAAapE,WAI7B,IHuBe2E,CAAa,CAAE7D,WAAUN,WAAUqD,QAAOtD,WAAUxC,YAAWgD,mBAC3E6D,OAAEA,EAAMC,aAAEA,EAAYC,cAAEA,EAAaC,SAAEA,EAAQC,UAAEA,EAASC,iBAAEA,GAAqBnB,EAEvF,MAAO,CACLhG,QACAgC,SAAU0D,EACVoB,SACAC,aAAc,KAAO,IAChBA,IACHK,UAAW,cACX,cAAe,gBAEjBJ,gBACAC,WACAC,YACAG,aAAc,EAAGjF,OAAMkF,QAAQ,EAAGC,oBAAoB,eACpD,MAAMC,EIpFkC,GAAGvD,iBAAgBsD,wBAC/D,IAAIC,EAAc,EAUlB,OARID,GACFtD,EAAewD,MAAMtD,UACnB,OAAIA,eAAAA,EAAQ9C,cAAekG,IAC3BC,IAA2B,QAAZlG,EAAA6C,aAAM,EAANA,EAAQwB,YAAI,IAAArE,OAAA,EAAAA,EAAE0C,SAAU,GAChC,EAAK,IAITwD,CAAW,EJyEME,CAAe,CACjCzD,eAAgByB,EAChB6B,sBAEF,MAAO,IACFvB,EAAUqB,aAAa,CAAEjF,OAAMkF,MAAOA,EAAQE,IACjDJ,UAAW,WACX,cAAe,WAChB,EAEHO,cAAe,KAAO,IACjB3B,EAAU2B,gBACbpH,MAAOP,EACP4H,QAAS,WACH5G,EAAQ4G,SACV5G,EAAQ4G,UAEN7D,IAA2C,IAAhBpB,GAC7BqD,EAAUiB,WAEM,QAAlB3F,EAAArB,aAAA,EAAAA,EAAWwG,eAAO,IAAAnF,GAAAA,EAAEuG,iBAAiB,EAEvCT,UAAW,YACX,cAAe,YACftE,YAAaA,IAEfgF,aAAc,KAAO,IAChBX,IACH1E,SAAWsF,IACTA,EAAMC,iBACFvF,GACFA,EAAS,CAAEzC,UAEbC,SAAAA,EAAWwG,QAAQC,kBAAkB1G,EAAO,CAAE2G,eAAgB3G,IACvD,CAAEA,UAEXoH,UAAW,WACX,cAAe,aAEjBpE,WACA/C,YACD,EKlHUgI,EAAyBC,EACpC,CAAA,GAGsB,SAAAC,EAAwBC,GAC9C,MAAMC,SAAEA,KAAaC,GAAcF,EAC7BG,EAAkBhG,EAAmB+F,GAE3C,OACEE,EAACC,cAAAR,EAAuBS,SAAS,CAAAnI,MAAO,IAAKgI,IAC3CC,EAAKC,cAAA,MAAA,CAAArB,UAAU,oBAAoBiB,GAGzC,CClBwB,SAAAM,EAAYP,SAClC,MAAMhG,KAAEA,EAAIkF,MAAEA,EAAKC,kBAAEA,EAAiBc,SAAEA,GAAaD,GAC/Cf,aAAEA,GAAiBuB,EAAWX,GAEpC,IAAIY,EAYJ,OAHEA,ECvBE,SAAoBzG,GACxB,YAA4CyD,IAApCzD,EAAiBuD,KAAKmD,SAChC,CDaMC,CAAU3G,GAEVoG,EAAAC,cAAAD,EAAAQ,SAAA,KACER,EAAAC,cAAA,MAAA,CAAA,cAAiB,UAAUQ,IAAgB,QAAX3H,EAAAc,EAAKuD,YAAM,IAAArE,OAAA,EAAAA,EAAAwH,UAAWI,IAAK9G,EAAK7B,QAChEiI,EAAeC,cAAA,IAAA,CAAA,cAAA,YAAYrG,EAAK7B,QAIlB6B,EAAK7B,MAIvBiI,EAAAC,cAAA,KAAA,IAAQpB,EAAa,CAAEjF,OAAMkF,QAAOC,sBAAsBH,UAAU,YACjEiB,GAAsBQ,EAG7B,CEpBwB,SAAAM,EAAiBf,GACvC,MAAMlG,QAAEA,EAAOmG,SAAEA,EAAWe,GAAkChB,EAE9D,OAAOC,EAAS,CAAEnG,WACpB,CAEA,MAAMkH,EAAwD,EAAGlH,oBAC/D,MAAMmH,GAAcnH,eAAAA,EAASoH,eAAepH,aAAO,EAAPA,EAASb,YAErD,OACEmH,EAAIC,cAAA,KAAA,CAAArB,UAAW,GAAGiC,iBAChBb,EAAIC,cAAA,KAAA,CAAArB,UAAU,mBAAoCiC,EJCnDE,QAAQ,WAAY,OAEpBA,QAAQ,MAAM,SAAUC,GACvB,OAAOA,EAAIC,aACb,KIJEjB,EAAAC,cAAA,KAAA,CAAIrB,UAAU,qBACX9F,EAAAY,aAAA,EAAAA,EAASyD,2BAAMxD,KAAI,CAACC,EAAMkF,IACzBkB,EAAAC,cAACE,EAAW,CACVvG,KAAMA,EACNkF,MAAOA,EACPC,kBAAmBrF,eAAAA,EAASb,WAC5BqI,IAAK,GAAGxH,aAAO,EAAPA,EAASb,cAAce,EAAKuD,KAAKL,UAKjD,EChBoB,SAAAqE,EAAoBvB,GAC1C,MAAMC,SAAEA,EAAWuB,GAAyBxB,GACtCpG,SAAEA,EAAQ8E,OAAEA,EAAMC,aAAEA,EAAYM,aAAEA,GAAiBuB,EAAWX,GAE9D4B,EAAa7H,GAAYA,EAAS8H,MAAM5H,IAAW,IAAAZ,EAAC,OAAa,QAAbA,EAAAY,aAAO,EAAPA,EAASyD,YAAI,IAAArE,OAAA,EAAAA,EAAE0C,MAAM,IAE/E,IAAI+F,EAEFA,EADEjD,GAAU+C,EACkB,mBAAbxB,EAA0BA,EAAS,CAAErG,WAAUqF,iBAAkBgB,EAExE,KAGZ,MAAM2B,EAAY,IACbjD,KAGL,OAAOyB,EAAQC,cAAA,KAAA,IAAAuB,GAAYD,EAC7B,ECvCA,SAAqBE,EAAK/G,QACX,IAARA,IAAiBA,EAAM,CAAA,GAC5B,IAAIgH,EAAWhH,EAAIgH,SAEnB,GAAKD,GAA2B,oBAAbE,SAAnB,CAEA,IAAIC,EAAOD,SAASC,MAAQD,SAASE,qBAAqB,QAAQ,GAC9DC,EAAQH,SAAS1B,cAAc,SACnC6B,EAAMhI,KAAO,WAEI,QAAb4H,GACEE,EAAKG,WACPH,EAAKI,aAAaF,EAAOF,EAAKG,YAKhCH,EAAKK,YAAYH,GAGfA,EAAMI,WACRJ,EAAMI,WAAWC,QAAUV,EAE3BK,EAAMG,YAAYN,SAASS,eAAeX,GAnBY,CAqB1D,0hEDgBA,MAAML,EAAsC,EAAG5H,cAC7CwG,EACGC,cAAAD,EAAAQ,SAAA,KAAAhH,aAAQ,EAARA,EAAUG,KAAKD,GACdsG,EAAAC,cAACU,EAAiB,CAAAjH,QAASA,EAASwH,IAAKxH,EAAQb,gBEpC/B,SAAAwJ,EAAYzC,GAClC,MAAMC,SAAEA,EAAWyC,GAAuB1C,GACpCN,aAAEA,EAAYH,cAAEA,EAAaX,cAAEA,EAAahE,SAAEA,GAClD4F,EAAWX,GAEb,OAAOI,EAAS,CAAEP,eAAcH,gBAAeX,gBAAehE,YAChE,CAEA,MAAM8H,EAAqB,EAAGhD,eAAcH,gBAAeX,gBAAehE,eACxE,MAAM+H,EAAapD,IAEnB,OACEa,EAAUC,cAAA,OAAA,IAAAX,KACRU,EAAAC,cAAA,QAAA,IAAWzB,IAAiBgE,QAEpB,GAAA,UACRxC,EAAAC,cAAA,QAAA,IAAWsC,IACXvC,EAAAC,cAAA,SAAA,CACErB,UAAU,gBACE,cAAA,gBACZ4D,QAASD,EAAWxK,MACpB0K,QAAS,WACPjI,EAAS,IACL+H,EAAWzF,KAA0C,QAAtChE,EAAA6I,SAASe,eAAeH,EAAWzF,WAAG,IAAAhE,GAAAA,EAAE6J,QAAO,EAEpE7I,KAAK,sBACM,2BACXkG,EAAKC,cAAA,MAAA,CAAArB,UAAU,YACboB,EACEC,cAAA,MAAA,CAAA2C,OAAO,eACPC,KAAK,eACLC,YAAY,IACZC,QAAQ,cACRC,OAAO,MACPC,MAAM,MACNC,MAAM,8BACNlD,EAAAC,cAAA,OAAA,CAAMkD,EAAE,kIAIdnD,EAAAC,cAAA,SAAA,CACErB,UAAU,UACVwE,UAAWb,EAAWxK,MACtB+B,KAAK,sBACM,iBACXkG,EAAKC,cAAA,MAAA,CAAArB,UAAU,YACboB,EACEC,cAAA,MAAA,CAAA2C,OAAO,eACPC,KAAK,eACLC,YAAY,IACZC,QAAQ,cACRC,OAAO,MACPC,MAAM,MACNC,MAAM,8BACNlD,EAAMC,cAAA,OAAA,CAAAkD,EAAE,iWAKhB,EC9DoB,SAAAE,EAAgBzD,GACtC,MAAMC,SAAEA,GAAaD,EAErB,OAAIC,EACKG,gBAACL,EAAuB,IAAKC,GAAQC,GAI5CG,EAAAC,cAAA,MAAA,KACED,EAACC,cAAAN,MAA4BC,GAC3BI,EAAAC,cAACoC,EAAc,MACfrC,EAAAC,cAACkB,EAAmB,OAI5B"}