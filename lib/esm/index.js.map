{"version":3,"file":"index.js","sources":["../../src/hooks/useCioClient.ts","../../src/hooks/useDebouncedFetchSections.ts","../../src/hooks/useDebounce.ts","../../src/hooks/useCioAutocomplete.ts","../../src/hooks/usePrevious.ts","../../src/hooks/useFetchRecommendationPod.ts","../../src/hooks/useDownShift.ts","../../src/utils.ts","../../src/components/Autocomplete/CioAutocompleteProvider.tsx","../../src/components/Autocomplete/SectionItem/SectionItem.tsx","../../src/typeGuards.ts","../../src/components/Autocomplete/SectionItemsList/SectionItemsList.tsx","../../src/components/Autocomplete/AutocompleteResults/AutocompleteResults.tsx","../../node_modules/style-inject/dist/style-inject.es.js","../../src/components/Autocomplete/SearchInput/SearchInput.tsx","../../src/components/Autocomplete/CioAutocomplete/CioAutocomplete.tsx"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,"function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n",null,null],"names":["useDebouncedFetchSection","query","cioClient","sectionConfigurations","sections","setSections","useState","debouncedSearchTerm","value","delay","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useDebounce","options","resultsPerSection","reduce","acc","config","_a","identifier","parameters","numResults","autocomplete","getAutocompleteResults","then","response","newSections","Object","keys","forEach","section","map","item","useCioAutocomplete","defaultPlaceholder","onSubmit","onChange","openOnFocus","apiKey","cioJsClient","placeholder","zeroStateSectionConfigurations","setQuery","previousQuery","ref","useRef","current","usePrevious","setCioClient","client","ConstructorIOClient","sendTrackingEvents","queryParams","autocomplete_key","identityModuleOptions","cookie_domain","useCioClient","zeroStateSectionsActive","length","activeSectionConfigurations","autocompleteSections","filter","type","recommendationsSections","autocompleteResults","recommendationsResults","recommendationPods","recommendationResults","setRecommendationResults","async","responses","Promise","all","podId","recommendations","getRecommendations","recommendationPodResults","pod","results","id","fetchRecommendationResults","useFetchRecommendationPod","activeSections","activeSectionConfigurationsWithData","data","customData","undefined","push","items","downshift","useCombobox","itemToString","onInputValueChange","inputValue","onSelectedItemChange","selectedItem","originalQuery","url","tracker","trackSearchSubmit","original_query","trackAutocompleteSelect","useDownShift","isOpen","getMenuProps","getLabelProps","openMenu","closeMenu","getComboboxProps","className","getItemProps","index","sectionIdentifier","indexOffset","find","getIndexOffset","getInputProps","onFocus","trackInputFocus","getFormProps","event","preventDefault","CioAutocompleteContext","createContext","CioAutocompleteProvider","props","children","restProps","cioAutoComplete","React","createElement","Provider","SectionItem","useContext","defaultChildren","image_url","isProduct","Fragment","src","alt","SectionItemsList","DefaultRenderSectionItemsList","sectionName","displayName","replace","str","toUpperCase","key","AutocompleteResults","DefaultRenderResults","hasResults","some","content","menuProps","css","insertAt","document","head","getElementsByTagName","style","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","SearchInput","DefaultRenderInput","inputProps","hidden","onClick","getElementById","focus","stroke","fill","strokeWidth","viewBox","height","width","xmlns","d","disabled","CioAutocomplete"],"mappings":"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"}