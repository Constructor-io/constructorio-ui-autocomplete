{"version":3,"file":"index.js","sources":["../../src/hooks/useCioClient.ts","../../src/hooks/useDownShift.ts","../../src/hooks/useDebouncedFetchSections.ts","../../src/hooks/useDebounce.ts","../../src/hooks/useCioAutocomplete.ts","../../src/hooks/usePrevious.ts","../../src/hooks/useFetchRecommendationPod.ts","../../src/utils.ts","../../src/components/Autocomplete/CioAutocompleteProvider.tsx","../../src/components/Autocomplete/SectionItem/SectionItem.tsx","../../src/typeGuards.ts","../../src/components/Autocomplete/SectionItemsList/SectionItemsList.tsx","../../src/components/Autocomplete/AutocompleteResults/AutocompleteResults.tsx","../../node_modules/style-inject/dist/style-inject.es.js","../../src/components/Autocomplete/SearchInput/SearchInput.tsx","../../src/components/Autocomplete/CioAutocomplete/CioAutocomplete.tsx"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,"function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n",null,null],"names":["useDownShift","setQuery","items","onSubmit","cioClient","previousQuery","onChange","useCombobox","itemToString","item","value","onInputValueChange","async","inputValue","onSelectedItemChange","selectedItem","originalQuery","_a","data","url","tracker","trackSearchSubmit","original_query","trackAutocompleteSelect","section","useDebouncedFetchSection","query","sectionConfigurations","sections","setSections","useState","debouncedSearchTerm","delay","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useDebounce","options","resultsPerSection","reduce","acc","config","identifier","parameters","numResults","autocomplete","getAutocompleteResults","then","response","newSections","Object","keys","forEach","map","useCioAutocomplete","defaultPlaceholder","openOnFocus","apiKey","cioJsClient","placeholder","zeroStateSectionConfigurations","ref","useRef","current","usePrevious","setCioClient","client","ConstructorIOClient","sendTrackingEvents","queryParams","autocomplete_key","identityModuleOptions","cookie_domain","useCioClient","zeroStateSectionsActive","length","activeSectionConfigurations","autocompleteSections","filter","type","recommendationsSections","autocompleteResults","recommendationsResults","recommendationPods","recommendationResults","setRecommendationResults","responses","Promise","all","podId","recommendations","getRecommendations","recommendationPodResults","pod","results","id","fetchRecommendationResults","useFetchRecommendationPod","activeSections","activeSectionConfigurationsWithData","customData","undefined","push","downshift","isOpen","getMenuProps","getLabelProps","openMenu","closeMenu","getComboboxProps","className","getItemProps","index","sectionIdentifier","indexOffset","find","getIndexOffset","getInputProps","onFocus","trackInputFocus","getFormProps","event","preventDefault","CioAutocompleteContext","createContext","CioAutocompleteProvider","props","children","restProps","cioAutoComplete","React","createElement","Provider","SectionItem","useContext","defaultChildren","image_url","isProduct","Fragment","src","alt","SectionItemsList","DefaultRenderSectionItemsList","sectionName","displayName","replace","str","toUpperCase","key","AutocompleteResults","DefaultRenderResults","hasResults","some","content","menuProps","css","insertAt","document","head","getElementsByTagName","style","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","SearchInput","DefaultRenderInput","inputProps","hidden","onClick","getElementById","focus","stroke","fill","strokeWidth","viewBox","height","width","xmlns","d","disabled"],"mappings":"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"}