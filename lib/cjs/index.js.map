{"version":3,"file":"index.js","sources":["../../src/hooks/useDownShift.ts","../../src/hooks/useDebouncedFetchSections.ts","../../src/hooks/useDebounce.ts","../../src/hooks/useCioAutocomplete.ts","../../src/hooks/usePrevious.ts","../../src/hooks/useCioClient.ts","../../src/hooks/useFetchRecommendationPod.ts","../../src/utils.ts","../../src/components/Autocomplete/CioAutocompleteProvider.tsx","../../src/components/Autocomplete/SectionItem/SectionItem.tsx","../../src/typeGuards.ts","../../src/components/Autocomplete/SectionItemsList/SectionItemsList.tsx","../../src/components/Autocomplete/AutocompleteResults/AutocompleteResults.tsx","../../node_modules/style-inject/dist/style-inject.es.js","../../src/components/Autocomplete/SearchInput/SearchInput.tsx","../../src/components/Autocomplete/CioAutocomplete/CioAutocomplete.tsx"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,"function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n",null,null],"names":["idCounter","useDownShift","setQuery","items","onSubmit","cioClient","previousQuery","onChange","useCombobox","id","itemToString","item","value","onInputValueChange","async","inputValue","onSelectedItemChange","selectedItem","originalQuery","_a","data","url","tracker","trackSearchSubmit","original_query","trackAutocompleteSelect","section","useDebouncedFetchSection","query","autocompleteSections","sectionsData","setSectionsData","useState","debouncedSearchTerm","delay","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useDebounce","autocompleteParameters","resultsPerSection","reduce","acc","sectionConfig","identifier","parameters","numResults","autocomplete","getAutocompleteResults","then","response","newSectionsData","Object","keys","sections","forEach","map","defaultSections","type","useCioAutocomplete","options","defaultPlaceholder","openOnFocus","apiKey","cioJsClient","placeholder","zeroStateSections","ref","useRef","current","usePrevious","setCioClient","client","ConstructorIOClient","sendTrackingEvents","useCioClient","zeroStateSectionsActive","length","activeSections","Array","isArray","console","error","filter","config","recommendationsSections","autocompleteResults","recommendationsResults","recommendationPods","recommendationResults","setRecommendationResults","responses","Promise","all","podId","recommendations","getRecommendations","recommendationPodResults","pod","results","fetchRecommendationResults","useFetchRecommendationPod","sectionResults","activeSectionsWithData","customData","undefined","push","downshift","isOpen","getMenuProps","getLabelProps","openMenu","closeMenu","getComboboxProps","className","getItemProps","index","sectionIdentifier","indexOffset","find","getIndexOffset","replace","getInputProps","onFocus","trackInputFocus","getFormProps","event","preventDefault","CioAutocompleteContext","createContext","CioAutocompleteProvider","props","children","restProps","cioAutoComplete","React","createElement","Provider","SectionItem","useContext","defaultChildren","image_url","isProduct","Fragment","src","alt","SectionItemsList","DefaultRenderSectionItemsList","sectionName","displayName","str","toUpperCase","key","AutocompleteResults","DefaultRenderResults","hasResults","some","content","menuProps","css","insertAt","document","head","getElementsByTagName","style","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","SearchInput","DefaultRenderInput","inputProps","hidden","onClick","getElementById","focus","stroke","fill","strokeWidth","viewBox","height","width","xmlns","d","disabled"],"mappings":"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"}