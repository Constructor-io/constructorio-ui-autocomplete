/*! For license information please see 582.a0126915.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_constructor_io_constructorio_ui_autocomplete=self.webpackChunk_constructor_io_constructorio_ui_autocomplete||[]).push([[582],{"./src/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$i:()=>displaySearchTermHighlightsDescription,$w:()=>componentDescription,Ak:()=>numResultsDescription,B3:()=>cioJsClientDescription,EZ:()=>fullFeaturedAndStyledExampleDescription,H1:()=>hookDescription,JZ:()=>multipleSectionsDescription,K6:()=>zeroStateDescription,Lk:()=>filteredSuggestionsDescription,MA:()=>openOnFocusDescription,NP:()=>apiKeyDescription,TG:()=>advancedParametersDescription,_J:()=>termsWithImagesAndCountsDescription,_w:()=>userEventsDescription,aO:()=>onSubmitDescription,bI:()=>onFocusDescription,c2:()=>contentDescription,e7:()=>zeroStateSectionsDescription,hS:()=>sectionOrderDescription,hi:()=>advancedParametersDefaultDescription,kN:()=>debounceDescription,kS:()=>customSectionDescription,lv:()=>productsDescription,oi:()=>searchSuggestionsDescription,op:()=>customStylesDescription,pb:()=>onChangeDescription,q1:()=>apiKey,rG:()=>onSubmitDefault,uN:()=>sectionsDescription,v$:()=>termsWithGroupSuggestionsDescription,yw:()=>recommendationsDescription,z2:()=>placeholderDescription});var apiKey="key_M57QS8SMPdLdLx4x",componentDescription="- import `CioAutocomplete` to render in your JSX.\n- This component handles state management, data fetching, and rendering logic.\n- To use this component, an `apiKey` or `cioJsClient` are required, and an `onSubmit` callback must be passed. All other values are optional.\n- Use different props to configure the behavior of this component.\n- The following stories shows how different props affect the component's behavior\n\n> Note: when we say `cioJsClient`, we are referring to an instance of the [constructorio-client-javascript](https://www.npmjs.com/package/@constructor-io/constructorio-client-javascript)\n",hookDescription='- import `useCioAutocomplete` and call this custom hook in a functional component.\n- This hook leaves rendering logic up to you, while handling:\n  - state management\n  - data fetching\n  - keyboard navigation\n  - mouse interactions\n  - focus and submit event handling\n- To use this hook, an `apiKey` or `cioJsClient` are required, and an `onSubmit` callback must be passed to the `useCioAutocomplete` hook to configure behavior. All other values are optional.\n- use the <a href="https://kentcdodds.com/blog/how-to-give-rendering-control-to-users-with-prop-getters" target="__blank">prop getters</a> and other variables returned by this hook (below) to leverage the functionality described above with jsx elements in your react component definitions\n\nCalling the `useCioAutocomplete` hook returns an object with the following keys:\n\n```jsx\nconst {\n  // must be used for a hooks integrations\n  query: string, // current input field value\n  sections: [{...}], // array of sections data to render in menu list\n  getFormProps: () => ({...})), // prop getter for jsx form element\n  getInputProps: () => ({...})), // prop getter for jsx input element\n  getMenuProps: () => ({...})), // prop getter for jsx element rendering the results container\n  getItemProps: (item) => ({...})), // prop getter for jsx element rendering each result\n\n  // available for use, but not required for all use cases\n  selectedItem: item, // undefined or current selected item (via hover or arrow keys)\n  isOpen: boolean, // current state of the menu list\n  openMenu: () => void, // open menu\n  closeMenu: () => void, // close menu\n  setQuery: () => void, // update the current input field value\n  getLabelProps: () => ({...})), // prop getter for a jsx label element\n  cioJsClient, // instance of constructorio-client-javascript\n } = useCioAutocomplete(args);\n```\n\n> Note: when we say `cioJsClient`, we are referring to an instance of the [constructorio-client-javascript](https://www.npmjs.com/package/@constructor-io/constructorio-client-javascript)\n\nThe following stories show how different options affect the hook\'s behavior!\n',sectionsDescription="- by default, typing a query will fetch data for search suggestions and Products\n- to override this, pass an array of sections objects\n- the order of the objects in the `sections` array determines the order of the results\n- each section object must have an `identifier`\n- each section object can specify a `type`\n- each section object can override the default `numResults` of 8\n\nWhen no values are passed for the `sections` argument, the following defaults are used:\n\n```jsx\n[\n  {\n    identifier: 'Search Suggestions',\n    type: 'autocomplete',\n    numResults: 8\n  },\n  {\n    identifier: 'Products',\n    type: 'autocomplete',\n    numResults: 8\n  }\n]\n```\n",userEventsDescription="- pass callback functions to respond to user events\n- if provided, the onFocus callback function will be called each time the user focuses on the text input field\n- if provided, the onChange callback function will be called each time the user changes the value in the text input field\n- the onSubmit callback function will be called each time the user submits the form\n- the user can submit the form by pressing the enter key in the text input field, clicking a submit button within the form, clicking on a result, or pressing enter while a result is selected\n\n> ⚠️ NOTE ⚠️ Use the Storybook Canvas Actions tab to explore the behavior of all of these `OnEvent` callback functions as you interact with our Default User Events example rendered in the Canvas. In the stories below, Storybook Canvas Actions have been disabled to focus on each of these callback functions in isolation. Each of the example callback functions in the stories below log output to the console tab of the browser's developer tools.",zeroStateDescription="- when the text input field has no text, we call this zero state\n- by default, the autocomplete shows nothing in the menu it's for zero state\n- to show zero state results, pass an array of section objects for `zeroStateSections`\n- when `zeroStateSections` has sections, the menu will open on user focus by default\n- set `openOnFocus` to false, to only show `zeroStateSections` after user has typed and then cleared the text input, instead of as soon as the user focuses on the text input\n- the order of the objects in the `zeroStateSections` array determines the order of the results\n- each section object must have an `identifier`\n- each section object can specify a `type`\n- each section object can override the default `numResults` of 8",fullFeaturedAndStyledExampleDescription="Using the default options, the library displays clean and minimal visual elements, with the intent of making it easy for consumers to easily extend and customize the styles to suit unique needs. The example below shows a full featured and styled example to demonstrate what is possible using Constructor.io's advanced Autocomplete UI library.",apiKeyDescription="Pass an `apiKey` to request results from constructor's servers",cioJsClientDescription="If you are already using an instance of the `ConstructorIOClient`, you can pass a `cioJsClient` instead of an `apiKey` to request results from constructor's servers\n\n> Note: when we say `cioJsClient`, we are referring to an instance of the [constructorio-client-javascript](https://www.npmjs.com/package/@constructor-io/constructorio-client-javascript)",placeholderDescription="Pass a `placeholder` to override the default input field placeholder text shown to users before they start typing their query",searchSuggestionsDescription="Override default `sections` to only suggest search terms",productsDescription="Override default `sections` to only suggested products",contentDescription="Override default `sections` to only suggest content",numResultsDescription="Override default `numResults` to only suggest 2 products per query",sectionOrderDescription="Override default `numResults` to suggest products, then terms",recommendationsDescription='Use constructor\'s recommendations service, with `"type": "recommendations"`',displaySearchTermHighlightsDescription='Use constructor\'s auto highlighting of words that match the search keyword, with `"displaySearchTermHighlights": true`',customSectionDescription='Use a custom section, by managing and passing your own data, with `"type": "custom"` and `"data":[{...}]`',onFocusDescription="Pass an `onFocus` callback function to execute some code each time the user applies focus to the text input field",onChangeDescription="Pass an `onChange` callback function to execute some code each time the user changes the value of the text input field",onSubmitDescription="Pass an `onSubmit` callback function to execute some code after a user submits the search form.\n\n  Your callback function will be invoked with a submit event containing useful metadata about the submit event:\n  - if the user submits the text input:\n    - the `query` field will provide the value of that input field\n  - if the user selects a suggested item from the dropdown list:\n    - the `originalQuery` field will provide the value of the input field that generated the selected item\n    - an `item` object with information about the suggestion that the user selected",onSubmitDefault=function onSubmitDefault(submitEvent){return console.dir(submitEvent)},zeroStateSectionsDescription="Use `zeroStateSections` to show suggestions after a user applies focus to the search input field and before they start typing a query",openOnFocusDescription="Use `openOnFocus: false` to show suggestions after a user clears their query, but not when they initially apply focus to the search input field",multipleSectionsDescription="Use as many different `recommendations` and `custom` sections as you'd like and in whatever order you would like!",customStylesDescription="\nBy default, importing react components or hooks from this library does not pull any css into your project.\n\nIf you wish to use some starter styles from this library, add an import statement similar to the example import statement below:\n\n`\nimport '@constructor-io/constructorio-ui-autocomplete/styles.css';\n`\n\n<i></i>\n\n- To opt out of all default styling, do not import the `styles.css` stylesheet.\n- The path and syntax in the example above may change depending on your module bundling strategy\n- These starter styles can be used as a foundation to build on top of, or just as a reference for you to replace completely.\n- All starter styles in this library are scoped within the `.cio-autocomplete` css selector.\n- These starter styles are intended to be extended by layering in your own css rules\n- If you like, you can override the container's className like so:\n`autocompleteClassName='custom-autocomplete-container'`\n- If you like, you can pass additional className(s) of your choosing like so:\n`autocompleteClassName='cio-autocomplete custom-autocomplete-container'`\n\n\n```css\n/* Custom Style Sheet */\n.cio-autocomplete.custom-autocomplete-styles form {\n  height: 44px;\n  width: 600px;\n  border-radius: 8px;\n  background-color: rgb(247, 247, 247);\n}\n\n.cio-autocomplete.custom-autocomplete-styles .cio-input {\n  font-weight: bold;\n}\n\n.cio-autocomplete.custom-autocomplete-styles .cio-form button {\n  width: 44px;\n}\n\n.cio-autocomplete.custom-autocomplete-styles .cio-clear-btn {\n  right: 24px;\n}\n\n.cio-autocomplete.custom-autocomplete-styles .cio-sectionName {\n  margin: 5px 3px;\n}\n\n.cio-autocomplete.custom-autocomplete-styles .cio-results {\n  width: 620px;\n  max-height: 334px;\n  overflow: hidden;\n  border-radius: 0px 0px 8px 8px;\n  color: rgb(51, 51, 51);\n}\n\n.cio-autocomplete.custom-autocomplete-styles .Products p {\n  padding: 5px 5px 0;\n}\n```\n",advancedParametersDescription="The stories below show how optional fields within this `advancedParameters` object that can be used to fine-tune the autosuggest data returned from constructor's servers.",advancedParametersDefaultDescription="Passing an `advancedParameters` object is optional. Passing an empty object for the `advancedParameters` field behaves the same as not passing an `advancedParameters` object at all.",termsWithGroupSuggestionsDescription='Pass integers for the `numTermsWithGroupSuggestions` and `numGroupsSuggestedPerTerm` fields to add suggested group filters to search term suggestions. Not all suggested search terms will have group filters, so these integers are upper limits, used to specify the maximum number of terms with group filters and the maximum number of suggested group filters per term.\n\nTo see this in action:\n1. Type "pan" in the example below.\n  - Notice how the user is presented with a search term of "all week flex pant" as well as "all week flex pant in Chinos" and "all week flex pant baby in Athleisure Pants & Joggers"\n2. Navigate to the "Terms With Group Suggestions" story (using the navigation menu to the left)\n3. Then use the Controls to adjust the values of `numTermsWithGroupSuggestions` to `3` and `numGroupsSuggestedPerTerm` to `1`\n4. Next, type "pan" in the example autocomplete input field.\n  - Notice how the user is presented with three different search terms that have a maximum of one "in {group}" suggestion each',filteredSuggestionsDescription='Pass a `filters` object under `advancedParameters` to apply filters to the suggestions. Any parameter supported by <a href="https://docs.constructor.io/rest_api/autocomplete_queries/" target="__blank">our autocomplete endpoint</a> can be passed under `advancedParameters`.\n\nTo see this in action:\n1. Type "short" in the example below.\n  - Notice how the user is presented with only short pants as results.\n  - This is because the results are currently filtered to belong to the "Shorts" group.\n2. Navigate to the "Filtered Suggestions" story (using the navigation menu to the left)\n3. Then use the Controls to adjust the values of `"group_id"` to `"1030"`.\n4. Next, type "short" in the example autocomplete input field.\n  - Notice how the user is presented with only short sleeved items as results.\n  - This is because we are filtering to the "Shirts" group',termsWithImagesAndCountsDescription="Pass boolean flags for `displaySearchSuggestionImages` and `displaySearchSuggestionResultCounts` fields to display images and counts for search suggestions. These fields need to be made displayable before they can be used. Please contact your Constructor Integration Engineer for details.",debounceDescription="Pass an integer to `debounce` to override the recommended, default delay employed for debouncing autocomplete network requests between keystrokes as your users type into the text input field. The default value is 250, which results in a debounce delay of 250 milliseconds."},"./src/hooks/useCioAutocomplete.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>hooks_useCioAutocomplete});var react=__webpack_require__("./node_modules/react/index.js"),utils=__webpack_require__("./src/utils.ts");const hooks_useCioClient=function useCioClient(_ref){var apiKey=_ref.apiKey,cioJsClient=_ref.cioJsClient;return apiKey||cioJsClient||console.error("Either apiKey or cioJsClient is required"),(0,react.useMemo)((function(){return cioJsClient||(0,utils.d7)(apiKey)}),[apiKey,cioJsClient])};var downshift_esm=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js"),idCounter=0;const hooks_useDownShift=function useDownShift(_ref){var setQuery=_ref.setQuery,items=_ref.items,onSubmit=_ref.onSubmit,cioClient=_ref.cioClient,_ref$previousQuery=_ref.previousQuery,previousQuery=void 0===_ref$previousQuery?"":_ref$previousQuery;return(0,downshift_esm.Kb)({id:"cio-autocomplete-".concat(idCounter++),items,itemToString:function itemToString(item){return(null==item?void 0:item.value)||""},onSelectedItemChange:function onSelectedItemChange(_ref2){var selectedItem=_ref2.selectedItem;if(selectedItem&&(setQuery(selectedItem.value||""),null!=selectedItem&&selectedItem.value)){onSubmit&&onSubmit({item:selectedItem,originalQuery:previousQuery});try{var _selectedItem$data;null!=selectedItem&&null!==(_selectedItem$data=selectedItem.data)&&void 0!==_selectedItem$data&&_selectedItem$data.url||null==cioClient||cioClient.tracker.trackSearchSubmit(selectedItem.value,{originalQuery:previousQuery}),null==cioClient||cioClient.tracker.trackAutocompleteSelect(selectedItem.value,{originalQuery:previousQuery,section:selectedItem.section})}catch(error){console.log(error)}}}})};const hooks_usePrevious=function usePrevious(value){var ref=(0,react.useRef)();return(0,react.useEffect)((function(){ref.current=value}),[value]),ref.current};const hooks_useConsoleErrors=function useConsoleErrors(sections,zeroStateSections){(0,react.useEffect)((function(){sections&&!Array.isArray(sections)&&console.error("useCioAutocomplete expects sections to reference an array of section configuration objects"),zeroStateSections&&!Array.isArray(zeroStateSections)&&console.error("useCioAutocomplete expects zeroStateSections to reference an array of section configuration objects")}),[sections,zeroStateSections])};function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const hooks_useDebounce=function useDebounce(value){var delay=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,_useState=(0,react.useState)(value),_useState2=_slicedToArray(_useState,2),debouncedValue=_useState2[0],setDebouncedValue=_useState2[1];return(0,react.useEffect)((function(){var handler=setTimeout((function(){setDebouncedValue(value)}),delay);return function(){clearTimeout(handler)}}),[value,delay]),debouncedValue};function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==_typeof(value)&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function useDebouncedFetchSections_slicedToArray(arr,i){return function useDebouncedFetchSections_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useDebouncedFetchSections_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function useDebouncedFetchSections_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useDebouncedFetchSections_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useDebouncedFetchSections_arrayLikeToArray(o,minLen)}(arr,i)||function useDebouncedFetchSections_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useDebouncedFetchSections_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var transformResponse=function transformResponse(response,options){var numTermsWithGroupSuggestions=options.numTermsWithGroupSuggestions,numGroupsSuggestedPerTerm=options.numGroupsSuggestedPerTerm,newSectionsData={};return Object.keys(response.sections).forEach((function(section){newSectionsData[section]=[],response.sections[section].map((function(item){var _item$data;return _objectSpread(_objectSpread({},item),{},{id:null==item||null===(_item$data=item.data)||void 0===_item$data?void 0:_item$data.id,section})})).forEach((function(item,itemIndex){var _newSectionsData$sect,_item$data2,_item$data2$groups;null===(_newSectionsData$sect=newSectionsData[section])||void 0===_newSectionsData$sect||_newSectionsData$sect.push(item),"Search Suggestions"===section&&null!=item&&null!==(_item$data2=item.data)&&void 0!==_item$data2&&null!==(_item$data2$groups=_item$data2.groups)&&void 0!==_item$data2$groups&&_item$data2$groups.length&&itemIndex<numTermsWithGroupSuggestions&&item.data.groups.forEach((function(group,groupIndex){if(groupIndex<numGroupsSuggestedPerTerm){var _item$data3,_newSectionsData$sect2,inGroupSearchSuggestion=_objectSpread(_objectSpread({},item),{},{id:"".concat(null===(_item$data3=item.data)||void 0===_item$data3?void 0:_item$data3.id,"_").concat(group.group_id),groupName:group.display_name,groupId:group.group_id});null===(_newSectionsData$sect2=newSectionsData[section])||void 0===_newSectionsData$sect2||_newSectionsData$sect2.push(inGroupSearchSuggestion)}}))}))})),newSectionsData};const useDebouncedFetchSections=function useDebouncedFetchSection(query,cioClient,autocompleteSections,advancedParameters){var _useState2=useDebouncedFetchSections_slicedToArray((0,react.useState)({}),2),sectionsData=_useState2[0],setSectionsData=_useState2[1],debouncedSearchTerm=hooks_useDebounce(query,null==advancedParameters?void 0:advancedParameters.debounce),_ref=advancedParameters||{},_ref$numTermsWithGrou=_ref.numTermsWithGroupSuggestions,numTermsWithGroupSuggestions=void 0===_ref$numTermsWithGrou?0:_ref$numTermsWithGrou,_ref$numGroupsSuggest=_ref.numGroupsSuggestedPerTerm,numGroupsSuggestedPerTerm=void 0===_ref$numGroupsSuggest?0:_ref$numGroupsSuggest,autocompleteParameters=(0,react.useMemo)((function(){var decoratedParameters=_objectSpread({},advancedParameters);return null==decoratedParameters||delete decoratedParameters.debounce,autocompleteSections&&(decoratedParameters.resultsPerSection=autocompleteSections.reduce((function(acc,sectionConfig){return _objectSpread(_objectSpread({},acc),{},_defineProperty({},sectionConfig.identifier,(null==sectionConfig?void 0:sectionConfig.numResults)||8))}),{})),decoratedParameters}),[autocompleteSections,advancedParameters]);return(0,react.useEffect)((function(){!function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(){var response,newSectionsData;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!debouncedSearchTerm.trim()){_context.next=14;break}return _context.prev=1,_context.next=4,null==cioClient?void 0:cioClient.autocomplete.getAutocompleteResults(debouncedSearchTerm,autocompleteParameters);case 4:response=_context.sent,newSectionsData=transformResponse(response,{numTermsWithGroupSuggestions,numGroupsSuggestedPerTerm}),setSectionsData(newSectionsData),_context.next=12;break;case 9:_context.prev=9,_context.t0=_context.catch(1),console.log(_context.t0);case 12:_context.next=15;break;case 14:debouncedSearchTerm||setSectionsData({});case 15:case"end":return _context.stop()}}),_callee,null,[[1,9]])})))()}),[debouncedSearchTerm,cioClient,numTermsWithGroupSuggestions,numGroupsSuggestedPerTerm,autocompleteParameters]),sectionsData};function useFetchRecommendationPod_typeof(obj){return useFetchRecommendationPod_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},useFetchRecommendationPod_typeof(obj)}var _excluded=["identifier"];function useFetchRecommendationPod_regeneratorRuntime(){useFetchRecommendationPod_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==useFetchRecommendationPod_typeof(value)&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function useFetchRecommendationPod_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function useFetchRecommendationPod_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?useFetchRecommendationPod_ownKeys(Object(source),!0).forEach((function(key){useFetchRecommendationPod_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):useFetchRecommendationPod_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function useFetchRecommendationPod_defineProperty(obj,key,value){return(key=function useFetchRecommendationPod_toPropertyKey(arg){var key=function useFetchRecommendationPod_toPrimitive(input,hint){if("object"!==useFetchRecommendationPod_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==useFetchRecommendationPod_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===useFetchRecommendationPod_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function useFetchRecommendationPod_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function useFetchRecommendationPod_slicedToArray(arr,i){return function useFetchRecommendationPod_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useFetchRecommendationPod_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function useFetchRecommendationPod_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useFetchRecommendationPod_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useFetchRecommendationPod_arrayLikeToArray(o,minLen)}(arr,i)||function useFetchRecommendationPod_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useFetchRecommendationPod_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const hooks_useFetchRecommendationPod=function useFetchRecommendationPod(cioClient,recommendationPods){var _useState2=useFetchRecommendationPod_slicedToArray((0,react.useState)({}),2),recommendationResults=_useState2[0],setRecommendationResults=_useState2[1];return(0,react.useEffect)((function(){if(cioClient&&Array.isArray(recommendationPods)&&0!==recommendationPods.length){var fetchRecommendationResults=function(){var _ref=function useFetchRecommendationPod_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){useFetchRecommendationPod_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){useFetchRecommendationPod_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(useFetchRecommendationPod_regeneratorRuntime().mark((function _callee(){var responses,recommendationPodResults;return useFetchRecommendationPod_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Promise.all(recommendationPods.map((function(_ref2){var podId=_ref2.identifier,parameters=_objectWithoutProperties(_ref2,_excluded);return cioClient.recommendations.getRecommendations(podId,parameters)})));case 2:responses=_context.sent,recommendationPodResults={},responses.forEach((function(_ref3){var response=_ref3.response,pod=response.pod,results=response.results;null!=pod&&pod.id&&(recommendationPodResults[pod.id]=null==results?void 0:results.map((function(item){var _item$data;return useFetchRecommendationPod_objectSpread(useFetchRecommendationPod_objectSpread({},item),{},{id:null==item||null===(_item$data=item.data)||void 0===_item$data?void 0:_item$data.id,section:pod.id})})))}));try{setRecommendationResults(recommendationPodResults)}catch(error){console.log(error)}case 6:case"end":return _context.stop()}}),_callee)})));return function fetchRecommendationResults(){return _ref.apply(this,arguments)}}();fetchRecommendationResults()}}),[cioClient]),recommendationResults};function useSections_typeof(obj){return useSections_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},useSections_typeof(obj)}function useSections_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function useSections_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?useSections_ownKeys(Object(source),!0).forEach((function(key){useSections_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):useSections_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function useSections_defineProperty(obj,key,value){return(key=function useSections_toPropertyKey(arg){var key=function useSections_toPrimitive(input,hint){if("object"!==useSections_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==useSections_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===useSections_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function useSections_slicedToArray(arr,i){return function useSections_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useSections_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function useSections_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useSections_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useSections_arrayLikeToArray(o,minLen)}(arr,i)||function useSections_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useSections_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return useItems_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function useItems_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useItems_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useItems_arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useItems_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const hooks_useItems=function useItems(activeSectionsWithData){var items=[];return null==activeSectionsWithData||activeSectionsWithData.forEach((function(config){null!=config&&config.data&&items.push.apply(items,_toConsumableArray(config.data))})),items};function useCioAutocomplete_typeof(obj){return useCioAutocomplete_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},useCioAutocomplete_typeof(obj)}function useCioAutocomplete_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function useCioAutocomplete_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?useCioAutocomplete_ownKeys(Object(source),!0).forEach((function(key){useCioAutocomplete_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):useCioAutocomplete_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function useCioAutocomplete_defineProperty(obj,key,value){return(key=function useCioAutocomplete_toPropertyKey(arg){var key=function useCioAutocomplete_toPrimitive(input,hint){if("object"!==useCioAutocomplete_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==useCioAutocomplete_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===useCioAutocomplete_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function useCioAutocomplete_slicedToArray(arr,i){return function useCioAutocomplete_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useCioAutocomplete_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function useCioAutocomplete_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useCioAutocomplete_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useCioAutocomplete_arrayLikeToArray(o,minLen)}(arr,i)||function useCioAutocomplete_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useCioAutocomplete_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var defaultSections=[{identifier:"Search Suggestions",type:"autocomplete"},{identifier:"Products",type:"autocomplete"}];const hooks_useCioAutocomplete=function useCioAutocomplete(options){var _onSubmit=options.onSubmit,_onChange=options.onChange,openOnFocus=options.openOnFocus,apiKey=options.apiKey,cioJsClient=options.cioJsClient,_options$placeholder=options.placeholder,placeholder=void 0===_options$placeholder?"What can we help you find today?":_options$placeholder,_options$sections=options.sections,sections=void 0===_options$sections?defaultSections:_options$sections,zeroStateSections=options.zeroStateSections,_options$autocomplete=options.autocompleteClassName,autocompleteClassName=void 0===_options$autocomplete?"cio-autocomplete":_options$autocomplete,advancedParameters=options.advancedParameters,_useState2=useCioAutocomplete_slicedToArray((0,react.useState)(""),2),query=_useState2[0],setQuery=_useState2[1],previousQuery=hooks_usePrevious(query),cioClient=hooks_useCioClient({apiKey,cioJsClient}),_useSections=function useSections(query,cioClient,sections,zeroStateSections,advancedParameters){var zeroStateActiveSections=!query.length&&zeroStateSections,_useState2=useSections_slicedToArray((0,react.useState)(zeroStateActiveSections?zeroStateSections:sections),2),activeSections=_useState2[0],setActiveSections=_useState2[1],autocompleteSections=(0,react.useMemo)((function(){return null==activeSections?void 0:activeSections.filter((function(config){return"autocomplete"===config.type||!config.type}))}),[activeSections]),recommendationsSections=null==activeSections?void 0:activeSections.filter((function(config){return"recommendations"===config.type})),autocompleteResults=useDebouncedFetchSections(query,cioClient,autocompleteSections,advancedParameters),recommendationsResults=hooks_useFetchRecommendationPod(cioClient,recommendationsSections),sectionResults=useSections_objectSpread(useSections_objectSpread({},autocompleteResults),recommendationsResults),activeSectionsWithData=(0,utils.eq)(activeSections,sectionResults);return(0,react.useEffect)((function(){setActiveSections(zeroStateActiveSections?zeroStateSections:sections)}),[query,sections,zeroStateSections,zeroStateActiveSections]),(0,react.useEffect)((function(){sections&&!Array.isArray(sections)&&setActiveSections([]),zeroStateSections&&!Array.isArray(zeroStateSections)&&setActiveSections([])}),[sections,zeroStateSections]),{activeSections,activeSectionsWithData,zeroStateActiveSections}}(query,cioClient,sections,zeroStateSections,advancedParameters),activeSections=_useSections.activeSections,activeSectionsWithData=_useSections.activeSectionsWithData,zeroStateActiveSections=_useSections.zeroStateActiveSections,items=hooks_useItems(activeSectionsWithData),downshift=hooks_useDownShift({setQuery,items,onSubmit:_onSubmit,cioClient,previousQuery}),isOpen=downshift.isOpen,_getMenuProps=downshift.getMenuProps,getLabelProps=downshift.getLabelProps,openMenu=downshift.openMenu,closeMenu=downshift.closeMenu,highlightedIndex=downshift.highlightedIndex;return hooks_useConsoleErrors(sections,activeSections),{query,sections:activeSectionsWithData,isOpen:isOpen&&(null==items?void 0:items.length)>0,getMenuProps:function getMenuProps(){return useCioAutocomplete_objectSpread(useCioAutocomplete_objectSpread({},_getMenuProps()),{},{className:"cio-results","data-testid":"cio-results"})},getLabelProps,openMenu,closeMenu,getItemProps:function getItemProps(item){var _getItemPosition=(0,utils.HZ)({item,items}),index=_getItemPosition.index,sectionId=_getItemPosition.sectionId,sectionItemTestId="cio-item-".concat(null==sectionId?void 0:sectionId.replace(" ",""));return useCioAutocomplete_objectSpread(useCioAutocomplete_objectSpread({},downshift.getItemProps({item,index})),{},{className:"cio-item ".concat(sectionItemTestId),"data-testid":sectionItemTestId})},getInputProps:function getInputProps(){return useCioAutocomplete_objectSpread(useCioAutocomplete_objectSpread({},downshift.getInputProps({onChange:function onChange(e){setQuery(e.target.value),_onChange&&_onChange(e.target.value)}})),{},{value:query,onFocus:function onFocus(){options.onFocus&&options.onFocus(),zeroStateActiveSections&&!1!==openOnFocus&&downshift.openMenu(),null!=query&&query.length&&downshift.openMenu();try{var _cioClient$tracker;null==cioClient||null===(_cioClient$tracker=cioClient.tracker)||void 0===_cioClient$tracker||_cioClient$tracker.trackInputFocus()}catch(error){console.log(error)}},className:"cio-input","data-testid":"cio-input",placeholder,onKeyDownCapture:function onKeyDownCapture(_ref){var code=_ref.code;if(isOpen&&"Enter"===code&&highlightedIndex<0&&null!=query&&query.length){_onSubmit&&_onSubmit({query});try{null==cioClient||cioClient.tracker.trackSearchSubmit(query,{originalQuery:query})}catch(error){console.log(error)}}}})},getFormProps:function getFormProps(){return{onSubmit:function onSubmit(event){event.preventDefault(),_onSubmit&&_onSubmit({query});try{null==cioClient||cioClient.tracker.trackSearchSubmit(query,{originalQuery:query})}catch(error){console.log(error)}return{query}},className:"cio-form","data-testid":"cio-form"}},setQuery,cioClient,autocompleteClassName,selectedItem:items[highlightedIndex],advancedParameters}}},"./src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{gq:()=>CioAutocomplete});var react=__webpack_require__("./node_modules/react/index.js"),useCioAutocomplete=__webpack_require__("./src/hooks/useCioAutocomplete.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["children"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var CioAutocompleteContext=(0,react.createContext)({});function CioAutocompleteProvider(props){var children=props.children,restProps=_objectWithoutProperties(props,_excluded),cioAutocomplete=(0,useCioAutocomplete.Z)(restProps);return(0,jsx_runtime.jsx)(CioAutocompleteContext.Provider,{value:cioAutocomplete,children:(0,jsx_runtime.jsx)("div",{className:cioAutocomplete.autocompleteClassName,children})})}CioAutocompleteProvider.displayName="CioAutocompleteProvider";try{CioAutocompleteProvider.displayName="CioAutocompleteProvider",CioAutocompleteProvider.__docgenInfo={description:"",displayName:"CioAutocompleteProvider",props:{apiKey:{defaultValue:null,description:"",name:"apiKey",required:!1,type:{name:"string"}},cioJsClient:{defaultValue:null,description:"",name:"cioJsClient",required:!1,type:{name:"ConstructorIO"}},openOnFocus:{defaultValue:null,description:"",name:"openOnFocus",required:!1,type:{name:"boolean"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"OnSubmit"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((string: any) => void)"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},sections:{defaultValue:null,description:"",name:"sections",required:!1,type:{name:"UserDefinedSection[]"}},zeroStateSections:{defaultValue:null,description:"",name:"zeroStateSections",required:!1,type:{name:"UserDefinedSection[]"}},autocompleteClassName:{defaultValue:null,description:"",name:"autocompleteClassName",required:!1,type:{name:"string"}},advancedParameters:{defaultValue:null,description:"",name:"advancedParameters",required:!1,type:{name:"AdvancedParameters"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Autocomplete/CioAutocompleteProvider.tsx#CioAutocompleteProvider"]={docgenInfo:CioAutocompleteProvider.__docgenInfo,name:"CioAutocompleteProvider",path:"src/components/Autocomplete/CioAutocompleteProvider.tsx#CioAutocompleteProvider"})}catch(__react_docgen_typescript_loader_error){}var typeGuards=__webpack_require__("./src/typeGuards.ts"),utils=__webpack_require__("./src/utils.ts");function SectionItemText(_ref){var item=_ref.item,query=_ref.query,highlightSearchTerm=_ref.highlightSearchTerm,itemText=(0,typeGuards.SS)(item)?item.groupName:item.value;if(highlightSearchTerm){var queryRegex=new RegExp("(".concat((0,utils.hr)(query),")"),"gi"),queryIncludedInText=queryRegex.test(itemText);if(query&&queryIncludedInText){var splitText=itemText.split(queryRegex);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:splitText.map((function(split,index){return queryRegex.test(split)?(0,jsx_runtime.jsx)("b",{children:split},"matched-word-".concat(index)):split}))})}}return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:itemText})}try{SectionItemText.displayName="SectionItemText",SectionItemText.__docgenInfo={description:"",displayName:"SectionItemText",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Item"}},query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},highlightSearchTerm:{defaultValue:null,description:"",name:"highlightSearchTerm",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Autocomplete/SectionItem/SectionItemText.tsx#SectionItemText"]={docgenInfo:SectionItemText.__docgenInfo,name:"SectionItemText",path:"src/components/Autocomplete/SectionItem/SectionItemText.tsx#SectionItemText"})}catch(__react_docgen_typescript_loader_error){}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function SectionItem(props){var defaultChildren,_item$data,item=props.item,children=props.children,displaySearchTermHighlights=props.displaySearchTermHighlights,_useContext=(0,react.useContext)(CioAutocompleteContext),getItemProps=_useContext.getItemProps,advancedParameters=_useContext.advancedParameters,query=_useContext.query,_ref=advancedParameters||{},displaySearchSuggestionImages=_ref.displaySearchSuggestionImages,displaySearchSuggestionResultCounts=_ref.displaySearchSuggestionResultCounts;if((0,typeGuards.v_)(item))defaultChildren=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("img",{"data-testid":"cio-img",src:null===(_item$data=item.data)||void 0===_item$data?void 0:_item$data.image_url,alt:item.value,className:"cio-product-image"}),(0,jsx_runtime.jsx)("p",{"data-testid":"cio-text",className:"cio-product-text",children:(0,jsx_runtime.jsx)(SectionItemText,{item,query,highlightSearchTerm:displaySearchTermHighlights})})]});else if((0,typeGuards.SS)(item))defaultChildren=(0,jsx_runtime.jsxs)("p",{className:"cio-term-in-group",children:["in"," ",(0,jsx_runtime.jsx)(SectionItemText,{item,query,highlightSearchTerm:displaySearchTermHighlights})]});else if((0,typeGuards.Vc)(item)){var _item$data2,_item$data3,_item$data4,_item$data5;defaultChildren=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[displaySearchSuggestionImages&&(null===(_item$data2=item.data)||void 0===_item$data2?void 0:_item$data2.image_url)&&(0,jsx_runtime.jsx)("img",{src:null===(_item$data3=item.data)||void 0===_item$data3?void 0:_item$data3.image_url,alt:item.value,className:"cio-suggestion-image"}),(0,jsx_runtime.jsx)("p",{className:"cio-suggestion-text",children:(0,jsx_runtime.jsx)(SectionItemText,{item,query,highlightSearchTerm:displaySearchTermHighlights})}),displaySearchSuggestionResultCounts&&(null===(_item$data4=item.data)||void 0===_item$data4?void 0:_item$data4.total_num_results)&&(0,jsx_runtime.jsxs)("p",{className:"cio-suggestion-count",children:["(",null===(_item$data5=item.data)||void 0===_item$data5?void 0:_item$data5.total_num_results,")"]})]})}else defaultChildren=(0,jsx_runtime.jsx)("p",{className:"cio-custom-text",children:(0,jsx_runtime.jsx)(SectionItemText,{item,query,highlightSearchTerm:displaySearchTermHighlights})});return(0,jsx_runtime.jsx)("li",_objectSpread(_objectSpread({},getItemProps(item)),{},{children:children||defaultChildren}))}SectionItem.displayName="SectionItem";try{SectionItem.displayName="SectionItem",SectionItem.__docgenInfo={description:"",displayName:"SectionItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Item"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"string"}},displaySearchTermHighlights:{defaultValue:null,description:"",name:"displaySearchTermHighlights",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Autocomplete/SectionItem/SectionItem.tsx#SectionItem"]={docgenInfo:SectionItem.__docgenInfo,name:"SectionItem",path:"src/components/Autocomplete/SectionItem/SectionItem.tsx#SectionItem"})}catch(__react_docgen_typescript_loader_error){}var DefaultRenderSectionItemsList=function DefaultRenderSectionItemsList(_ref){var _section$data,_section$data2,section=_ref.section,sectionName=(null==section?void 0:section.displayName)||(null==section?void 0:section.identifier);return null!=section&&null!==(_section$data=section.data)&&void 0!==_section$data&&_section$data.length?(0,jsx_runtime.jsxs)("li",{className:"".concat(sectionName," cio-section"),role:"none",children:[(0,jsx_runtime.jsx)("h5",{className:"cio-sectionName","aria-hidden":!0,children:(0,utils.TR)(sectionName)}),(0,jsx_runtime.jsx)("ul",{className:"cio-section-items",role:"none",children:null==section||null===(_section$data2=section.data)||void 0===_section$data2?void 0:_section$data2.map((function(item){return(0,jsx_runtime.jsx)(SectionItem,{item,displaySearchTermHighlights:section.displaySearchTermHighlights},null==item?void 0:item.id)}))})]}):null};function SectionItemsList(props){var section=props.section,_props$children=props.children;return(void 0===_props$children?DefaultRenderSectionItemsList:_props$children)({section})}DefaultRenderSectionItemsList.displayName="DefaultRenderSectionItemsList";try{SectionItemsList.displayName="SectionItemsList",SectionItemsList.__docgenInfo={description:"",displayName:"SectionItemsList",props:{section:{defaultValue:null,description:"",name:"section",required:!0,type:{name:"Section"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Autocomplete/SectionItemsList/SectionItemsList.tsx#SectionItemsList"]={docgenInfo:SectionItemsList.__docgenInfo,name:"SectionItemsList",path:"src/components/Autocomplete/SectionItemsList/SectionItemsList.tsx#SectionItemsList"})}catch(__react_docgen_typescript_loader_error){}function AutocompleteResults_typeof(obj){return AutocompleteResults_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},AutocompleteResults_typeof(obj)}function AutocompleteResults_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function AutocompleteResults_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?AutocompleteResults_ownKeys(Object(source),!0).forEach((function(key){AutocompleteResults_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):AutocompleteResults_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function AutocompleteResults_defineProperty(obj,key,value){return(key=function AutocompleteResults_toPropertyKey(arg){var key=function AutocompleteResults_toPrimitive(input,hint){if("object"!==AutocompleteResults_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==AutocompleteResults_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===AutocompleteResults_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var DefaultRenderResults=function DefaultRenderResults(_ref){var sections=_ref.sections;return null==sections?void 0:sections.map((function(section){return(0,jsx_runtime.jsx)(SectionItemsList,{section},section.identifier)}))};function AutocompleteResults(props){var content,_props$children=props.children,children=void 0===_props$children?DefaultRenderResults:_props$children,_useContext=(0,react.useContext)(CioAutocompleteContext),sections=_useContext.sections,isOpen=_useContext.isOpen,getMenuProps=_useContext.getMenuProps,getItemProps=_useContext.getItemProps,hasResults=sections&&sections.some((function(section){var _section$data;return null==section||null===(_section$data=section.data)||void 0===_section$data?void 0:_section$data.length})),menuProps=AutocompleteResults_objectSpread({},getMenuProps());return isOpen&&hasResults?content="function"==typeof children?children({sections,getItemProps}):children:(content=null,menuProps.style={display:"none"}),(0,jsx_runtime.jsx)("ul",AutocompleteResults_objectSpread(AutocompleteResults_objectSpread({},menuProps),{},{children:content}))}AutocompleteResults.displayName="AutocompleteResults";try{AutocompleteResults.displayName="AutocompleteResults",AutocompleteResults.__docgenInfo={description:"",displayName:"AutocompleteResults",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Autocomplete/AutocompleteResults/AutocompleteResults.tsx#AutocompleteResults"]={docgenInfo:AutocompleteResults.__docgenInfo,name:"AutocompleteResults",path:"src/components/Autocomplete/AutocompleteResults/AutocompleteResults.tsx#AutocompleteResults"})}catch(__react_docgen_typescript_loader_error){}function SearchInput_typeof(obj){return SearchInput_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},SearchInput_typeof(obj)}function SearchInput_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SearchInput_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SearchInput_ownKeys(Object(source),!0).forEach((function(key){SearchInput_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SearchInput_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function SearchInput_defineProperty(obj,key,value){return(key=function SearchInput_toPropertyKey(arg){var key=function SearchInput_toPrimitive(input,hint){if("object"!==SearchInput_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==SearchInput_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===SearchInput_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function DefaultRenderInput(_ref){var getFormProps=_ref.getFormProps,getInputProps=_ref.getInputProps,getLabelProps=_ref.getLabelProps,setQuery=_ref.setQuery,inputProps=getInputProps();return(0,jsx_runtime.jsxs)("form",SearchInput_objectSpread(SearchInput_objectSpread({},getFormProps()),{},{children:[(0,jsx_runtime.jsx)("label",SearchInput_objectSpread(SearchInput_objectSpread({},getLabelProps()),{},{htmlFor:"cio-input",children:(0,jsx_runtime.jsx)("input",SearchInput_objectSpread({id:"cio-input"},inputProps))})),(0,jsx_runtime.jsx)("button",{className:"cio-clear-btn","data-testid":"cio-clear-btn",hidden:!inputProps.value,onClick:function onClick(){setQuery(""),inputProps.id&&setTimeout((function(){var _document$getElementB;return null===(_document$getElementB=document.getElementById(inputProps.id))||void 0===_document$getElementB?void 0:_document$getElementB.focus()}),100)},type:"button","aria-label":"Clear search field text",children:(0,jsx_runtime.jsx)("div",{className:"cio-icon",children:(0,jsx_runtime.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,jsx_runtime.jsx)("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})})})}),(0,jsx_runtime.jsx)("button",{className:"cio-submit-btn","data-testid":"cio-submit-btn",disabled:!inputProps.value,type:"submit","aria-label":"Submit Search",children:(0,jsx_runtime.jsx)("div",{className:"cio-icon",children:(0,jsx_runtime.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,jsx_runtime.jsx)("path",{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"})})})})]}))}function SearchInput(props){var _props$children=props.children,children=void 0===_props$children?DefaultRenderInput:_props$children,_useContext=(0,react.useContext)(CioAutocompleteContext);return children({getFormProps:_useContext.getFormProps,getInputProps:_useContext.getInputProps,getLabelProps:_useContext.getLabelProps,setQuery:_useContext.setQuery})}DefaultRenderInput.displayName="DefaultRenderInput";try{SearchInput.displayName="SearchInput",SearchInput.__docgenInfo={description:"",displayName:"SearchInput",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Autocomplete/SearchInput/SearchInput.tsx#SearchInput"]={docgenInfo:SearchInput.__docgenInfo,name:"SearchInput",path:"src/components/Autocomplete/SearchInput/SearchInput.tsx#SearchInput"})}catch(__react_docgen_typescript_loader_error){}function CioAutocomplete_typeof(obj){return CioAutocomplete_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},CioAutocomplete_typeof(obj)}function CioAutocomplete_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function CioAutocomplete_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?CioAutocomplete_ownKeys(Object(source),!0).forEach((function(key){CioAutocomplete_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):CioAutocomplete_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function CioAutocomplete_defineProperty(obj,key,value){return(key=function CioAutocomplete_toPropertyKey(arg){var key=function CioAutocomplete_toPrimitive(input,hint){if("object"!==CioAutocomplete_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==CioAutocomplete_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===CioAutocomplete_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function CioAutocomplete(props){var children=props.children;return children?(0,jsx_runtime.jsx)(CioAutocompleteProvider,CioAutocomplete_objectSpread(CioAutocomplete_objectSpread({},props),{},{children})):(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)(CioAutocompleteProvider,CioAutocomplete_objectSpread(CioAutocomplete_objectSpread({},props),{},{children:[(0,jsx_runtime.jsx)(SearchInput,{}),(0,jsx_runtime.jsx)(AutocompleteResults,{})]}))})}CioAutocomplete.displayName="CioAutocomplete";try{CioAutocomplete.displayName="CioAutocomplete",CioAutocomplete.__docgenInfo={description:"",displayName:"CioAutocomplete",props:{apiKey:{defaultValue:null,description:"",name:"apiKey",required:!1,type:{name:"string"}},cioJsClient:{defaultValue:null,description:"",name:"cioJsClient",required:!1,type:{name:"ConstructorIO"}},openOnFocus:{defaultValue:null,description:"",name:"openOnFocus",required:!1,type:{name:"boolean"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"OnSubmit"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((string: any) => void)"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},sections:{defaultValue:null,description:"",name:"sections",required:!1,type:{name:"UserDefinedSection[]"}},zeroStateSections:{defaultValue:null,description:"",name:"zeroStateSections",required:!1,type:{name:"UserDefinedSection[]"}},autocompleteClassName:{defaultValue:null,description:"",name:"autocompleteClassName",required:!1,type:{name:"string"}},advancedParameters:{defaultValue:null,description:"",name:"advancedParameters",required:!1,type:{name:"AdvancedParameters"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Autocomplete/CioAutocomplete/CioAutocomplete.tsx#CioAutocomplete"]={docgenInfo:CioAutocomplete.__docgenInfo,name:"CioAutocomplete",path:"src/components/Autocomplete/CioAutocomplete/CioAutocomplete.tsx#CioAutocomplete"})}catch(__react_docgen_typescript_loader_error){}},"./src/stories/Autocomplete/argTypes.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>argTypes});var argTypes={placeholder:{description:"Search input placeholder",table:{type:{summary:"string"}},control:{type:"text"}},apiKey:{type:{name:"string"},description:"Your constructor API key",table:{type:{summary:"string"}},control:{type:"text"}},onSubmit:{type:{name:"function"},description:"On search submit callback function",table:{type:{summary:"Function"}},control:null},onFocus:{type:{name:"function"},description:"On focus callback function",table:{type:{summary:"Function"}},control:null},openOnFocus:{description:"Open results on focus",table:{type:{summary:"boolean"}},control:{type:"boolean"}}}},"./src/typeGuards.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function isProduct(item){return"Products"===item.section}function isSearchSuggestion(item){return"Search Suggestions"===item.section}function isInGroupSuggestion(item){return void 0!==item.groupName}function isCustomSection(config){return void 0!==config.data}__webpack_require__.d(__webpack_exports__,{NS:()=>isCustomSection,SS:()=>isInGroupSuggestion,Vc:()=>isSearchSuggestion,v_:()=>isProduct})},"./src/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{TR:()=>camelToStartCase,$u:()=>disableStoryActions,hr:()=>escapeRegExp,O8:()=>functionStrings,eq:()=>getActiveSectionsWithData,d7:()=>getCioClient,HZ:()=>getItemPosition,Ez:()=>getStoryParams,dM:()=>isTrackingRequestSent,_v:()=>sleep,fk:()=>stringifyWithDefaults});var constructorio=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/constructorio.js"),constructorio_default=__webpack_require__.n(constructorio),typeGuards=__webpack_require__("./src/typeGuards.ts");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getItemPosition=function getItemPosition(_ref){var _items$index,item=_ref.item,items=_ref.items,index=items.findIndex((function(itemInFlatList){return(null==itemInFlatList?void 0:itemInFlatList.id)===(null==item?void 0:item.id)}));return{sectionId:null===(_items$index=items[index])||void 0===_items$index?void 0:_items$index.section,index}},camelToStartCase=function camelToStartCase(camelCaseString){return camelCaseString.replace(/([A-Z])/g," $1").replace(/^./,(function(str){return str.toUpperCase()}))};function isTrackingRequestSent(trackingRequestUrl){var _window$localStorage,_JSON$parse,trackingRequestsQueue=null===(_window$localStorage=window.localStorage)||void 0===_window$localStorage?void 0:_window$localStorage._constructorio_requests;return trackingRequestsQueue&&(null===(_JSON$parse=JSON.parse(trackingRequestsQueue))||void 0===_JSON$parse?void 0:_JSON$parse.some((function(request){var _request$url;return null==request||null===(_request$url=request.url)||void 0===_request$url?void 0:_request$url.includes(trackingRequestUrl)})))}function sleep(ms){return new Promise((function(resolve){return setTimeout(resolve,ms)}))}var getStoryParams=function getStoryParams(storyCode,templateCode,importCode){return{docs:{source:{code:"\n".concat(importCode,"\n").concat(storyCode,"\n").concat(templateCode,"\n"),language:"jsx",format:!0,type:"code"}}}},functionStrings={onSubmit:"(submitEvent) => console.dir(submitEvent)"},stringifyWithDefaults=function stringifyWithDefaults(obj){var res=JSON.stringify(obj,(function(key,value){return value instanceof Function?"".concat(key,"_CODE"):value}),"  ");return Array.from(res.matchAll(/"(\w*)_CODE"/g)).forEach((function(match){var _match=_slicedToArray(match,2),codePlaceholder=_match[0],key=_match[1],functionString=functionStrings[key];functionString?res=res.replaceAll(codePlaceholder,functionString):console.error("Function string for ".concat(key," not found."))})),res},disableStoryActions=function disableStoryActions(story){story.parameters.actions={argTypesRegex:null}},getCioClient=function getCioClient(apiKey){return apiKey?new(constructorio_default())({apiKey,sendTrackingEvents:!0,version:"cio-ui-autocomplete-".concat("1.11.0")}):null},getActiveSectionsWithData=function getActiveSectionsWithData(activeSections,sectionResults){var activeSectionsWithData=[];return null==activeSections||activeSections.forEach((function(config){var data,identifier=config.identifier;data=(0,typeGuards.NS)(config)?config.data.map((function(item){var _item$data;return _objectSpread(_objectSpread({},item),{},{id:(null==item?void 0:item.id)||(null==item||null===(_item$data=item.data)||void 0===_item$data?void 0:_item$data.id)})})):sectionResults[identifier],Array.isArray(data)&&activeSectionsWithData.push(_objectSpread(_objectSpread({},config),{},{data}))})),activeSectionsWithData},escapeRegExp=function escapeRegExp(string){return string.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}}]);