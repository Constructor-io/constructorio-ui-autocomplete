/*! For license information please see 96.82a453bc.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkcio_autocomplete_ts=self.webpackChunkcio_autocomplete_ts||[]).push([[96],{"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":module=>{module.exports=function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayLikeToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");module.exports=function _arrayWithoutHoles(arr){if(Array.isArray(arr))return arrayLikeToArray(arr)},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/classCallCheck.js":module=>{module.exports=function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/createClass.js":(module,__unused_webpack_exports,__webpack_require__)=>{var toPropertyKey=__webpack_require__("./node_modules/@babel/runtime/helpers/toPropertyKey.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,toPropertyKey(descriptor.key),descriptor)}}module.exports=function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/defineProperty.js":(module,__unused_webpack_exports,__webpack_require__)=>{var toPropertyKey=__webpack_require__("./node_modules/@babel/runtime/helpers/toPropertyKey.js");module.exports=function _defineProperty(obj,key,value){return(key=toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":module=>{module.exports=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/iterableToArray.js":module=>{module.exports=function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":module=>{module.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayWithoutHoles=__webpack_require__("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),iterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/iterableToArray.js"),unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),nonIterableSpread=__webpack_require__("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");module.exports=function _toConsumableArray(arr){return arrayWithoutHoles(arr)||iterableToArray(arr)||unsupportedIterableToArray(arr)||nonIterableSpread()},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/toPrimitive.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js").default;module.exports=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/toPropertyKey.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js").default,toPrimitive=__webpack_require__("./node_modules/@babel/runtime/helpers/toPrimitive.js");module.exports=function _toPropertyKey(arg){var key=toPrimitive(arg,"string");return"symbol"===_typeof(key)?key:String(key)},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/typeof.js":module=>{function _typeof(obj){return module.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},module.exports.__esModule=!0,module.exports.default=module.exports,_typeof(obj)}module.exports=_typeof,module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayLikeToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");module.exports=function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?arrayLikeToArray(o,minLen):void 0}},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@constructor-io/constructorio-client-javascript/lib/constructorio.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js"),_interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),ConstructorioID=__webpack_require__("./node_modules/@constructor-io/constructorio-id/src/constructorio-id.js"),fetchPonyfill=__webpack_require__("./node_modules/fetch-ponyfill/build/fetch-browser.js"),Search=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/modules/search.js"),Browse=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/modules/browse.js"),Autocomplete=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/modules/autocomplete.js"),Recommendations=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/modules/recommendations.js"),Tracker=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/modules/tracker.js"),EventDispatcher=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/event-dispatcher.js"),helpers=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/helpers.js"),packageVersion=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/package.json").version,Quizzes=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/modules/quizzes.js"),computePackageVersion=function computePackageVersion(){var versionModifiers=[];return helpers.canUseDOM()||versionModifiers.push("domless"),void 0!==process&&void 0!==process.env&&process.env.BUNDLED&&versionModifiers.push("bundled"),"".concat("ciojs-client-").concat(versionModifiers.join("-")).concat(versionModifiers.length?"-":"").concat(packageVersion)},ConstructorIO=function(){function ConstructorIO(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,_classCallCheck2.default)(this,ConstructorIO);var session_id,client_id,apiKey=options.apiKey,versionFromOptions=options.version,serviceUrl=options.serviceUrl,segments=options.segments,testCells=options.testCells,clientId=options.clientId,sessionId=options.sessionId,userId=options.userId,fetch=options.fetch,trackingSendDelay=options.trackingSendDelay,sendReferrerWithTrackingEvents=options.sendReferrerWithTrackingEvents,sendTrackingEvents=options.sendTrackingEvents,eventDispatcher=options.eventDispatcher,idOptions=options.idOptions,beaconMode=options.beaconMode,networkParameters=options.networkParameters;if(!apiKey||"string"!=typeof apiKey)throw new Error("API key is a required parameter of type string");var versionFromGlobal=void 0!==__webpack_require__.g&&__webpack_require__.g.CLIENT_VERSION;if(helpers.canUseDOM()){var _ConstructorioID=new ConstructorioID(idOptions||{});session_id=_ConstructorioID.session_id,client_id=_ConstructorioID.client_id}else{if(!sessionId||"number"!=typeof sessionId)throw new Error("sessionId is a required user parameter of type number");if(!clientId||"string"!=typeof clientId)throw new Error("clientId is a required user parameter of type string")}this.options={apiKey,version:versionFromOptions||versionFromGlobal||computePackageVersion(),serviceUrl:serviceUrl&&serviceUrl.replace(/\/$/,"")||"https://ac.cnstrc.com",sessionId:sessionId||session_id,clientId:clientId||client_id,userId,segments,testCells,fetch:fetch||fetchPonyfill({Promise}).fetch,trackingSendDelay,sendTrackingEvents,sendReferrerWithTrackingEvents,eventDispatcher,beaconMode:!1!==beaconMode,networkParameters:networkParameters||{}},this.search=new Search(this.options),this.browse=new Browse(this.options),this.autocomplete=new Autocomplete(this.options),this.recommendations=new Recommendations(this.options),this.tracker=new Tracker(this.options),this.quizzes=new Quizzes(this.options),new EventDispatcher(options.eventDispatcher).queue("instantiated",this.options)}return(0,_createClass2.default)(ConstructorIO,[{key:"setClientOptions",value:function setClientOptions(options){if(Object.keys(options).length){var apiKey=options.apiKey,segments=options.segments,testCells=options.testCells,userId=options.userId;apiKey&&(this.options.apiKey=apiKey),segments&&(this.options.segments=segments),testCells&&(this.options.testCells=testCells),userId&&(this.options.userId=userId)}}}]),ConstructorIO}();ConstructorIO.Tracker=Tracker,helpers.canUseDOM()&&(window.ConstructorioClient=ConstructorIO),module.exports=ConstructorIO},"./node_modules/@constructor-io/constructorio-client-javascript/lib/modules/autocomplete.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),EventDispatcher=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/event-dispatcher.js"),_require=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/helpers.js"),throwHttpErrorFromResponse=_require.throwHttpErrorFromResponse,cleanParams=_require.cleanParams,applyNetworkTimeout=_require.applyNetworkTimeout,trimNonBreakingSpaces=_require.trimNonBreakingSpaces,encodeURIComponentRFC3986=_require.encodeURIComponentRFC3986,stringify=_require.stringify;function createAutocompleteUrl(query,parameters,options){var apiKey=options.apiKey,version=options.version,serviceUrl=options.serviceUrl,sessionId=options.sessionId,clientId=options.clientId,userId=options.userId,segments=options.segments,testCells=options.testCells,queryParams={c:version};if(queryParams.key=apiKey,queryParams.i=clientId,queryParams.s=sessionId,!query||"string"!=typeof query)throw new Error("query is a required parameter of type string");if(testCells&&Object.keys(testCells).forEach((function(testCellKey){queryParams["ef-".concat(testCellKey)]=testCells[testCellKey]})),segments&&segments.length&&(queryParams.us=segments),userId&&(queryParams.ui=userId),parameters){var numResults=parameters.numResults,resultsPerSection=parameters.resultsPerSection,filters=parameters.filters,hiddenFields=parameters.hiddenFields,variationsMap=parameters.variationsMap;numResults&&(queryParams.num_results=numResults),resultsPerSection&&Object.keys(resultsPerSection).forEach((function(section){queryParams["num_results_".concat(section)]=resultsPerSection[section]})),filters&&(queryParams.filters=filters),hiddenFields&&(queryParams.fmt_options?queryParams.fmt_options.hidden_fields=hiddenFields:queryParams.fmt_options={hidden_fields:hiddenFields}),variationsMap&&(queryParams.variations_map=JSON.stringify(variationsMap))}queryParams._dt=Date.now(),queryParams=cleanParams(queryParams);var queryString=stringify(queryParams),cleanedQuery=query.replace(/^\//,"|");return"".concat(serviceUrl,"/autocomplete/").concat(encodeURIComponentRFC3986(trimNonBreakingSpaces(cleanedQuery)),"?").concat(queryString)}var Autocomplete=function(){function Autocomplete(options){(0,_classCallCheck2.default)(this,Autocomplete),this.options=options||{},this.eventDispatcher=new EventDispatcher(options.eventDispatcher)}return(0,_createClass2.default)(Autocomplete,[{key:"getAutocompleteResults",value:function getAutocompleteResults(query,parameters){var requestUrl,signal,_this=this,networkParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},fetch=this.options.fetch;if("function"==typeof AbortController){var controller=new AbortController;signal=controller&&controller.signal,applyNetworkTimeout(this.options,networkParameters,controller)}try{requestUrl=createAutocompleteUrl(query,parameters,this.options)}catch(e){return Promise.reject(e)}return fetch(requestUrl,{signal}).then((function(response){return response.ok?response.json():throwHttpErrorFromResponse(new Error,response)})).then((function(json){if(json.sections){if(json.result_id)Object.keys(json.sections).forEach((function(section){var sectionItems=json.sections[section];sectionItems.length&&sectionItems.forEach((function(item){item.result_id=json.result_id}))}));return _this.eventDispatcher.queue("autocomplete.getAutocompleteResults.completed",json),json}throw new Error("getAutocompleteResults response data is malformed")}))}}]),Autocomplete}();module.exports=Autocomplete},"./node_modules/@constructor-io/constructorio-client-javascript/lib/modules/browse.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),_defineProperty2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var EventDispatcher=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/event-dispatcher.js"),helpers=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/helpers.js");function createQueryParams(parameters,options){var apiKey=options.apiKey,version=options.version,sessionId=options.sessionId,clientId=options.clientId,userId=options.userId,segments=options.segments,testCells=options.testCells,queryParams={c:version};if(queryParams.key=apiKey,queryParams.i=clientId,queryParams.s=sessionId,testCells&&Object.keys(testCells).forEach((function(testCellKey){queryParams["ef-".concat(testCellKey)]=testCells[testCellKey]})),segments&&segments.length&&(queryParams.us=segments),userId&&(queryParams.ui=userId),parameters){var page=parameters.page,offset=parameters.offset,resultsPerPage=parameters.resultsPerPage,filters=parameters.filters,sortBy=parameters.sortBy,sortOrder=parameters.sortOrder,section=parameters.section,fmtOptions=parameters.fmtOptions,hiddenFields=parameters.hiddenFields,hiddenFacets=parameters.hiddenFacets,variationsMap=parameters.variationsMap,qsParam=parameters.qsParam,preFilterExpression=parameters.preFilterExpression;helpers.isNil(page)||(queryParams.page=page),helpers.isNil(offset)||(queryParams.offset=offset),helpers.isNil(resultsPerPage)||(queryParams.num_results_per_page=resultsPerPage),filters&&(queryParams.filters=filters),sortBy&&(queryParams.sort_by=sortBy),sortOrder&&(queryParams.sort_order=sortOrder),section&&(queryParams.section=section),fmtOptions&&(queryParams.fmt_options=fmtOptions),hiddenFields&&(queryParams.fmt_options?queryParams.fmt_options.hidden_fields=hiddenFields:queryParams.fmt_options={hidden_fields:hiddenFields}),hiddenFacets&&(queryParams.fmt_options?queryParams.fmt_options.hidden_facets=hiddenFacets:queryParams.fmt_options={hidden_facets:hiddenFacets}),variationsMap&&(queryParams.variations_map=JSON.stringify(variationsMap)),preFilterExpression&&(queryParams.pre_filter_expression=JSON.stringify(preFilterExpression)),qsParam&&(queryParams.qs=JSON.stringify(qsParam))}return queryParams._dt=Date.now(),queryParams=helpers.cleanParams(queryParams)}function createBrowseUrlFromFilter(filterName,filterValue,parameters,options){var serviceUrl=options.serviceUrl;if(!filterName||"string"!=typeof filterName)throw new Error("filterName is a required parameter of type string");if(!filterValue||"string"!=typeof filterValue)throw new Error("filterValue is a required parameter of type string");var queryParams=createQueryParams(parameters,options),queryString=helpers.stringify(queryParams);return"".concat(serviceUrl,"/browse/").concat(helpers.encodeURIComponentRFC3986(helpers.trimNonBreakingSpaces(filterName)),"/").concat(helpers.encodeURIComponentRFC3986(helpers.trimNonBreakingSpaces(filterValue)),"?").concat(queryString)}function createBrowseUrlFromIDs(ids,parameters,options){var serviceUrl=options.serviceUrl;if(!ids||!Array.isArray(ids)||!ids.length)throw new Error("ids is a required parameter of type array");var queryParams=_objectSpread(_objectSpread({},createQueryParams(parameters,options)),{},{ids}),queryString=helpers.stringify(queryParams);return"".concat(serviceUrl,"/browse/items?").concat(queryString)}function createBrowseUrlForFacetOptions(facetName,parameters,options){var serviceUrl=options.serviceUrl;if(!facetName||"string"!=typeof facetName)throw new Error("facetName is a required parameter of type string");var queryParams=_objectSpread({},createQueryParams(parameters,options));queryParams.facet_name=facetName,delete queryParams._dt;var queryString=helpers.stringify(queryParams);return"".concat(serviceUrl,"/browse/facet_options?").concat(queryString)}var Browse=function(){function Browse(options){(0,_classCallCheck2.default)(this,Browse),this.options=options||{},this.eventDispatcher=new EventDispatcher(options.eventDispatcher)}return(0,_createClass2.default)(Browse,[{key:"getBrowseResults",value:function getBrowseResults(filterName,filterValue,parameters){var requestUrl,signal,_this=this,networkParameters=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},fetch=this.options.fetch;if("function"==typeof AbortController){var controller=new AbortController;signal=controller&&controller.signal,helpers.applyNetworkTimeout(this.options,networkParameters,controller)}try{requestUrl=createBrowseUrlFromFilter(filterName,filterValue,parameters,this.options)}catch(e){return Promise.reject(e)}return fetch(requestUrl,{signal}).then((function(response){return response.ok?response.json():helpers.throwHttpErrorFromResponse(new Error,response)})).then((function(json){if(json.response&&json.response.results)return json.result_id&&json.response.results.forEach((function(result){result.result_id=json.result_id})),_this.eventDispatcher.queue("browse.getBrowseResults.completed",json),json;throw new Error("getBrowseResults response data is malformed")}))}},{key:"getBrowseResultsForItemIds",value:function getBrowseResultsForItemIds(itemIds,parameters){var requestUrl,signal,_this2=this,networkParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},fetch=this.options.fetch;if("function"==typeof AbortController){var controller=new AbortController;signal=controller&&controller.signal,helpers.applyNetworkTimeout(this.options,networkParameters,controller)}try{requestUrl=createBrowseUrlFromIDs(itemIds,parameters,this.options)}catch(e){return Promise.reject(e)}return fetch(requestUrl,{signal}).then((function(response){return response.ok?response.json():helpers.throwHttpErrorFromResponse(new Error,response)})).then((function(json){if(json.response&&json.response.results)return json.result_id&&json.response.results.forEach((function(result){result.result_id=json.result_id})),_this2.eventDispatcher.queue("browse.getBrowseResultsForItemIds.completed",json),json;throw new Error("getBrowseResultsForItemIds response data is malformed")}))}},{key:"getBrowseGroups",value:function getBrowseGroups(parameters){var signal,_this3=this,networkParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},fetch=this.options.fetch,serviceUrl=this.options.serviceUrl,queryParams=createQueryParams(parameters,this.options);if("function"==typeof AbortController){var controller=new AbortController;signal=controller&&controller.signal,helpers.applyNetworkTimeout(this.options,networkParameters,controller)}delete queryParams._dt;var queryString=helpers.stringify(queryParams),requestUrl="".concat(serviceUrl,"/browse/groups?").concat(queryString);return fetch(requestUrl,{signal}).then((function(response){return response.ok?response.json():helpers.throwHttpErrorFromResponse(new Error,response)})).then((function(json){if(json.response&&json.response.groups)return _this3.eventDispatcher.queue("browse.getBrowseGroups.completed",json),json;throw new Error("getBrowseGroups response data is malformed")}))}},{key:"getBrowseFacets",value:function getBrowseFacets(parameters,networkParameters){var requestUrl,signal,_this4=this,fetch=this.options.fetch;if("function"==typeof AbortController){var controller=new AbortController;signal=controller&&controller.signal,helpers.applyNetworkTimeout(this.options,networkParameters,controller)}try{requestUrl=function createBrowseUrlForFacets(parameters,options){var serviceUrl=options.serviceUrl,queryParams=_objectSpread({},createQueryParams(parameters,options));delete queryParams._dt;var queryString=helpers.stringify(queryParams);return"".concat(serviceUrl,"/browse/facets?").concat(queryString)}(parameters,this.options)}catch(e){return Promise.reject(e)}return fetch(requestUrl,{signal}).then((function(response){return response.ok?response.json():helpers.throwHttpErrorFromResponse(new Error,response)})).then((function(json){if(json.response&&json.response.facets)return _this4.eventDispatcher.queue("browse.getBrowseFacets.completed",json),json;throw new Error("getBrowseFacets response data is malformed")}))}},{key:"getBrowseFacetOptions",value:function getBrowseFacetOptions(facetName){var requestUrl,signal,_this5=this,parameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},networkParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},fetch=this.options.fetch;if("function"==typeof AbortController){var controller=new AbortController;signal=controller&&controller.signal,helpers.applyNetworkTimeout(this.options,networkParameters,controller)}try{requestUrl=createBrowseUrlForFacetOptions(facetName,parameters,this.options)}catch(e){return Promise.reject(e)}return fetch(requestUrl,{signal}).then((function(response){return response.ok?response.json():helpers.throwHttpErrorFromResponse(new Error,response)})).then((function(json){if(json.response&&json.response.facets)return _this5.eventDispatcher.queue("browse.getBrowseFacetOptions.completed",json),json;throw new Error("getBrowseFacetOptions response data is malformed")}))}}]),Browse}();module.exports=Browse},"./node_modules/@constructor-io/constructorio-client-javascript/lib/modules/quizzes.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),_toConsumableArray2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),_typeof2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js")),EventDispatcher=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/event-dispatcher.js"),helpers=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/helpers.js");function createQuizUrl(quizId,parameters,options,path){var apiKey=options.apiKey,clientId=options.clientId,sessionId=options.sessionId,segments=options.segments,userId=options.userId,queryParams={c:options.version},answersParamString="";if(queryParams.key=apiKey,queryParams.i=clientId,queryParams.s=sessionId,segments&&segments.length&&(queryParams.us=segments),userId&&(queryParams.ui=userId),!quizId||"string"!=typeof quizId)throw new Error("quizId is a required parameter of type string");if("finalize"===path&&("object"!==(0,_typeof2.default)(parameters.answers)||!Array.isArray(parameters.answers)||0===parameters.answers.length))throw new Error("answers is a required parameter of type array");if(parameters){var section=parameters.section,answers=parameters.answers,versionId=parameters.versionId;section&&(queryParams.section=section),versionId&&(queryParams.version_id=versionId),answers&&(answersParamString="&".concat(helpers.stringify({a:answers.map((function(ans){return(0,_toConsumableArray2.default)(ans).join(",")}))})))}queryParams._dt=Date.now(),queryParams=helpers.cleanParams(queryParams);var queryString=helpers.stringify(queryParams);return"".concat("https://quizzes.cnstrc.com","/v1/quizzes/").concat(encodeURIComponent(quizId),"/").concat(encodeURIComponent(path),"/?").concat(queryString).concat(answersParamString)}var Quizzes=function(){function Quizzes(options){(0,_classCallCheck2.default)(this,Quizzes),this.options=options||{},this.eventDispatcher=new EventDispatcher(options.eventDispatcher)}return(0,_createClass2.default)(Quizzes,[{key:"getQuizNextQuestion",value:function getQuizNextQuestion(quizId,parameters){var requestUrl,_this=this,networkParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},fetch=this.options.fetch,controller=new AbortController,signal=controller.signal;try{requestUrl=createQuizUrl(quizId,parameters,this.options,"next")}catch(e){return Promise.reject(e)}return helpers.applyNetworkTimeout(this.options,networkParameters,controller),fetch(requestUrl,{signal}).then((function(response){return response.ok?response.json():helpers.throwHttpErrorFromResponse(new Error,response)})).then((function(json){if(json.version_id)return _this.eventDispatcher.queue("quizzes.getQuizNextQuestion.completed",json),json;throw new Error("getQuizNextQuestion response data is malformed")}))}},{key:"getQuizResults",value:function getQuizResults(quizId,parameters){var requestUrl,_this2=this,networkParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},fetch=this.options.fetch,controller=new AbortController,signal=controller.signal;try{requestUrl=createQuizUrl(quizId,parameters,this.options,"finalize")}catch(e){return Promise.reject(e)}return helpers.applyNetworkTimeout(this.options,networkParameters,controller),fetch(requestUrl,{signal}).then((function(response){return response.ok?response.json():helpers.throwHttpErrorFromResponse(new Error,response)})).then((function(json){if(json.version_id)return _this2.eventDispatcher.queue("quizzes.getQuizResults.completed",json),json;throw new Error("getQuizResults response data is malformed")}))}}]),Quizzes}();module.exports=Quizzes},"./node_modules/@constructor-io/constructorio-client-javascript/lib/modules/recommendations.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),EventDispatcher=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/event-dispatcher.js"),helpers=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/helpers.js");function createRecommendationsUrl(podId,parameters,options){var apiKey=options.apiKey,version=options.version,serviceUrl=options.serviceUrl,sessionId=options.sessionId,userId=options.userId,clientId=options.clientId,segments=options.segments,queryParams={c:version};if(queryParams.key=apiKey,queryParams.i=clientId,queryParams.s=sessionId,!podId||"string"!=typeof podId)throw new Error("podId is a required parameter of type string");if(segments&&segments.length&&(queryParams.us=segments),userId&&(queryParams.ui=userId),parameters){var numResults=parameters.numResults,itemIds=parameters.itemIds,section=parameters.section,term=parameters.term,filters=parameters.filters,variationsMap=parameters.variationsMap;helpers.isNil(numResults)||(queryParams.num_results=numResults),itemIds&&(queryParams.item_id=itemIds),section&&(queryParams.section=section),term&&(queryParams.term=term),filters&&(queryParams.filters=filters),variationsMap&&(queryParams.variations_map=JSON.stringify(variationsMap))}queryParams=helpers.cleanParams(queryParams);var queryString=helpers.stringify(queryParams);return"".concat(serviceUrl,"/recommendations/v1/pods/").concat(helpers.encodeURIComponentRFC3986(helpers.trimNonBreakingSpaces(podId)),"?").concat(queryString)}var Recommendations=function(){function Recommendations(options){(0,_classCallCheck2.default)(this,Recommendations),this.options=options||{},this.eventDispatcher=new EventDispatcher(options.eventDispatcher)}return(0,_createClass2.default)(Recommendations,[{key:"getRecommendations",value:function getRecommendations(podId,parameters){var requestUrl,signal,_this=this,networkParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},fetch=this.options.fetch;if("function"==typeof AbortController){var controller=new AbortController;signal=controller&&controller.signal,helpers.applyNetworkTimeout(this.options,networkParameters,controller)}try{requestUrl=createRecommendationsUrl(podId,parameters,this.options)}catch(e){return Promise.reject(e)}return fetch(requestUrl,{signal}).then((function(response){return response.ok?response.json():helpers.throwHttpErrorFromResponse(new Error,response)})).then((function(json){if(json.response&&json.response.results)return json.result_id&&json.response.results.forEach((function(result){result.result_id=json.result_id})),_this.eventDispatcher.queue("recommendations.getRecommendations.completed",json),json;throw new Error("getRecommendations response data is malformed")}))}}]),Recommendations}();module.exports=Recommendations},"./node_modules/@constructor-io/constructorio-client-javascript/lib/modules/search.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),EventDispatcher=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/event-dispatcher.js"),helpers=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/helpers.js");function createSearchUrl(query,parameters,options){var apiKey=options.apiKey,version=options.version,serviceUrl=options.serviceUrl,sessionId=options.sessionId,clientId=options.clientId,userId=options.userId,segments=options.segments,testCells=options.testCells,queryParams={c:version};if(queryParams.key=apiKey,queryParams.i=clientId,queryParams.s=sessionId,!query||"string"!=typeof query)throw new Error("query is a required parameter of type string");if(testCells&&Object.keys(testCells).forEach((function(testCellKey){queryParams["ef-".concat(testCellKey)]=testCells[testCellKey]})),segments&&segments.length&&(queryParams.us=segments),userId&&(queryParams.ui=userId),parameters){var offset=parameters.offset,page=parameters.page,resultsPerPage=parameters.resultsPerPage,filters=parameters.filters,sortBy=parameters.sortBy,sortOrder=parameters.sortOrder,section=parameters.section,fmtOptions=parameters.fmtOptions,hiddenFields=parameters.hiddenFields,hiddenFacets=parameters.hiddenFacets,variationsMap=parameters.variationsMap,qsParam=parameters.qsParam,preFilterExpression=parameters.preFilterExpression;helpers.isNil(offset)||(queryParams.offset=offset),helpers.isNil(page)||(queryParams.page=page),helpers.isNil(resultsPerPage)||(queryParams.num_results_per_page=resultsPerPage),filters&&(queryParams.filters=filters),sortBy&&(queryParams.sort_by=sortBy),sortOrder&&(queryParams.sort_order=sortOrder),section&&(queryParams.section=section),fmtOptions&&(queryParams.fmt_options=fmtOptions),hiddenFields&&(queryParams.fmt_options?queryParams.fmt_options.hidden_fields=hiddenFields:queryParams.fmt_options={hidden_fields:hiddenFields}),hiddenFacets&&(queryParams.fmt_options?queryParams.fmt_options.hidden_facets=hiddenFacets:queryParams.fmt_options={hidden_facets:hiddenFacets}),variationsMap&&(queryParams.variations_map=JSON.stringify(variationsMap)),preFilterExpression&&(queryParams.pre_filter_expression=JSON.stringify(preFilterExpression)),qsParam&&(queryParams.qs=JSON.stringify(qsParam))}queryParams._dt=Date.now(),queryParams=helpers.cleanParams(queryParams);var queryString=helpers.stringify(queryParams);return"".concat(serviceUrl,"/search/").concat(helpers.encodeURIComponentRFC3986(helpers.trimNonBreakingSpaces(query)),"?").concat(queryString)}var Search=function(){function Search(options){(0,_classCallCheck2.default)(this,Search),this.options=options||{},this.eventDispatcher=new EventDispatcher(options.eventDispatcher)}return(0,_createClass2.default)(Search,[{key:"getSearchResults",value:function getSearchResults(query,parameters){var requestUrl,signal,_this=this,networkParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},fetch=this.options.fetch;if("function"==typeof AbortController){var controller=new AbortController;signal=controller&&controller.signal,helpers.applyNetworkTimeout(this.options,networkParameters,controller)}try{requestUrl=createSearchUrl(query,parameters,this.options)}catch(e){return Promise.reject(e)}return fetch(requestUrl,{signal}).then((function(response){return response.ok?response.json():helpers.throwHttpErrorFromResponse(new Error,response)})).then((function(json){if(json.response&&json.response.results)return json.result_id&&json.response.results.forEach((function(result){result.result_id=json.result_id})),_this.eventDispatcher.queue("search.getSearchResults.completed",json),json;if(json.response&&json.response.redirect)return _this.eventDispatcher.queue("search.getSearchResults.completed",json),json;throw new Error("getSearchResults response data is malformed")}))}}]),Search}();module.exports=Search},"./node_modules/@constructor-io/constructorio-client-javascript/lib/modules/tracker.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_defineProperty2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js")),_typeof2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js")),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js"));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var EventEmitter=__webpack_require__("./node_modules/events/events.js"),helpers=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/helpers.js"),RequestQueue=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/request-queue.js");function applyParams(parameters,options){var apiKey=options.apiKey,version=options.version,sessionId=options.sessionId,clientId=options.clientId,userId=options.userId,segments=options.segments,testCells=options.testCells,requestMethod=options.requestMethod,beaconMode=options.beaconMode,_helpers$getWindowLoc=helpers.getWindowLocation(),host=_helpers$getWindowLoc.host,pathname=_helpers$getWindowLoc.pathname,sendReferrerWithTrackingEvents=!1!==options.sendReferrerWithTrackingEvents,aggregateParams=Object.assign(parameters);return version&&(aggregateParams.c=version),clientId&&(aggregateParams.i=clientId),sessionId&&(aggregateParams.s=sessionId),userId&&(aggregateParams.ui=userId),segments&&segments.length&&(aggregateParams.us=segments),apiKey&&(aggregateParams.key=apiKey),testCells&&Object.keys(testCells).forEach((function(testCellKey){aggregateParams["ef-".concat(testCellKey)]=testCells[testCellKey]})),beaconMode&&requestMethod&&requestMethod.match(/POST/i)&&(aggregateParams.beacon=!0),sendReferrerWithTrackingEvents&&host&&(aggregateParams.origin_referrer=host,pathname&&(aggregateParams.origin_referrer+=pathname)),aggregateParams._dt=Date.now(),aggregateParams=helpers.cleanParams(aggregateParams)}function applyParamsAsString(parameters,options){return helpers.stringify(applyParams(parameters,options))}var Tracker=function(){function Tracker(options){(0,_classCallCheck2.default)(this,Tracker),this.options=options||{},this.eventemitter=new EventEmitter,this.requests=new RequestQueue(options,this.eventemitter)}return(0,_createClass2.default)(Tracker,[{key:"trackSessionStart",value:function trackSessionStart(){var networkParameters=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},url="".concat(this.options.serviceUrl,"/behavior?"),queryParams={action:"session_start"};return this.requests.queue("".concat(url).concat(applyParamsAsString(queryParams,this.options)),void 0,void 0,networkParameters),this.requests.send(),!0}},{key:"trackInputFocus",value:function trackInputFocus(){var networkParameters=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},url="".concat(this.options.serviceUrl,"/behavior?"),queryParams={action:"focus"};return this.requests.queue("".concat(url).concat(applyParamsAsString(queryParams,this.options)),void 0,void 0,networkParameters),this.requests.send(),!0}},{key:"trackItemDetailLoad",value:function trackItemDetailLoad(parameters){var networkParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(parameters&&"object"===(0,_typeof2.default)(parameters)&&!Array.isArray(parameters)){var requestUrlPath="".concat(this.options.serviceUrl,"/v2/behavioral_action/item_detail_load?"),queryParams={},bodyParams={},item_name=parameters.item_name,name=parameters.name,item_id=parameters.item_id,customer_id=parameters.customer_id,variation_id=parameters.variation_id,url=parameters.url;item_name?bodyParams.item_name=item_name:name&&(bodyParams.item_name=name),item_id?bodyParams.item_id=item_id:customer_id&&(bodyParams.item_id=customer_id),variation_id&&(bodyParams.variation_id=variation_id),url&&(bodyParams.url=url);var requestURL="".concat(requestUrlPath).concat(applyParamsAsString(queryParams,this.options)),requestMethod="POST",requestBody=applyParams(bodyParams,_objectSpread(_objectSpread({},this.options),{},{requestMethod}));return this.requests.queue(requestURL,requestMethod,requestBody,networkParameters),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAutocompleteSelect",value:function trackAutocompleteSelect(term,parameters){var networkParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(term&&"string"==typeof term){if(parameters&&"object"===(0,_typeof2.default)(parameters)&&!Array.isArray(parameters)){var url="".concat(this.options.serviceUrl,"/autocomplete/").concat(helpers.encodeURIComponentRFC3986(helpers.trimNonBreakingSpaces(term)),"/select?"),queryParams={},original_query=parameters.original_query,section=parameters.section,original_section=parameters.original_section,tr=parameters.tr,group_id=parameters.group_id,display_name=parameters.display_name;return original_query&&(queryParams.original_query=original_query),tr&&(queryParams.tr=tr),(original_section||section)&&(queryParams.section=original_section||section),group_id&&(queryParams.group={group_id,display_name}),this.requests.queue("".concat(url).concat(applyParamsAsString(queryParams,this.options)),void 0,void 0,networkParameters),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmit",value:function trackSearchSubmit(term,parameters){var networkParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(term&&"string"==typeof term){if(parameters&&"object"===(0,_typeof2.default)(parameters)&&!Array.isArray(parameters)){var url="".concat(this.options.serviceUrl,"/autocomplete/").concat(helpers.encodeURIComponentRFC3986(helpers.trimNonBreakingSpaces(term)),"/search?"),queryParams={},original_query=parameters.original_query,group_id=parameters.group_id,display_name=parameters.display_name;return original_query&&(queryParams.original_query=original_query),group_id&&(queryParams.group={group_id,display_name}),this.requests.queue("".concat(url).concat(applyParamsAsString(queryParams,this.options)),void 0,void 0,networkParameters),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoaded",value:function trackSearchResultsLoaded(term,parameters){var networkParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(term&&"string"==typeof term){if(parameters&&"object"===(0,_typeof2.default)(parameters)&&!Array.isArray(parameters)){var customerIDs,url="".concat(this.options.serviceUrl,"/behavior?"),queryParams={action:"search-results",term},num_results=parameters.num_results,customer_ids=parameters.customer_ids,item_ids=parameters.item_ids;return helpers.isNil(num_results)||(queryParams.num_results=num_results),item_ids&&Array.isArray(item_ids)&&item_ids.length?customerIDs=item_ids:customer_ids&&Array.isArray(customer_ids)&&customer_ids.length&&(customerIDs=customer_ids),customerIDs&&customerIDs.length&&(queryParams.customer_ids=customerIDs.slice(0,100).join(",")),this.requests.queue("".concat(url).concat(applyParamsAsString(queryParams,this.options)),void 0,void 0,networkParameters),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClick",value:function trackSearchResultClick(term,parameters){var networkParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(term&&"string"==typeof term){if(parameters&&"object"===(0,_typeof2.default)(parameters)&&!Array.isArray(parameters)){var url="".concat(this.options.serviceUrl,"/autocomplete/").concat(helpers.encodeURIComponentRFC3986(helpers.trimNonBreakingSpaces(term)),"/click_through?"),queryParams={},item_name=parameters.item_name,name=parameters.name,item_id=parameters.item_id,customer_id=parameters.customer_id,variation_id=parameters.variation_id,result_id=parameters.result_id,item_is_convertible=parameters.item_is_convertible,section=parameters.section;return item_name?queryParams.name=item_name:name&&(queryParams.name=name),item_id?queryParams.customer_id=item_id:customer_id&&(queryParams.customer_id=customer_id),variation_id&&(queryParams.variation_id=variation_id),result_id&&(queryParams.result_id=result_id),"boolean"==typeof item_is_convertible&&(queryParams.item_is_convertible=item_is_convertible),section&&(queryParams.section=section),this.requests.queue("".concat(url).concat(applyParamsAsString(queryParams,this.options)),void 0,void 0,networkParameters),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackConversion",value:function trackConversion(term,parameters){var networkParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(parameters&&"object"===(0,_typeof2.default)(parameters)&&!Array.isArray(parameters)){var searchTerm=term||"TERM_UNKNOWN",requestPath="".concat(this.options.serviceUrl,"/v2/behavioral_action/conversion?"),queryParams={},bodyParams={},name=parameters.name,item_name=parameters.item_name,item_id=parameters.item_id,customer_id=parameters.customer_id,variation_id=parameters.variation_id,revenue=parameters.revenue,_parameters$section=parameters.section,section=void 0===_parameters$section?"Products":_parameters$section,display_name=parameters.display_name,type=parameters.type,is_custom_type=parameters.is_custom_type;item_id?bodyParams.item_id=item_id:customer_id&&(bodyParams.item_id=customer_id),item_name?bodyParams.item_name=item_name:name&&(bodyParams.item_name=name),variation_id&&(bodyParams.variation_id=variation_id),revenue&&(bodyParams.revenue=revenue.toString()),section&&(queryParams.section=section,bodyParams.section=section),searchTerm&&(bodyParams.search_term=searchTerm),type&&(bodyParams.type=type),is_custom_type&&(bodyParams.is_custom_type=is_custom_type),display_name&&(bodyParams.display_name=display_name);var requestURL="".concat(requestPath).concat(applyParamsAsString(queryParams,this.options)),requestMethod="POST",requestBody=applyParams(bodyParams,_objectSpread(_objectSpread({},this.options),{},{requestMethod}));return this.requests.queue(requestURL,requestMethod,requestBody,networkParameters),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackPurchase",value:function trackPurchase(parameters){var networkParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(parameters&&"object"===(0,_typeof2.default)(parameters)&&!Array.isArray(parameters)){var requestPath="".concat(this.options.serviceUrl,"/v2/behavioral_action/purchase?"),queryParams={},bodyParams={},items=parameters.items,revenue=parameters.revenue,order_id=parameters.order_id,section=parameters.section;if(order_id){if(helpers.hasOrderIdRecord(order_id))return!1;helpers.addOrderIdRecord(order_id),bodyParams.order_id=order_id}items&&Array.isArray(items)&&(bodyParams.items=items.slice(0,100)),revenue&&(bodyParams.revenue=revenue),queryParams.section=section||"Products";var requestURL="".concat(requestPath).concat(applyParamsAsString(queryParams,this.options)),requestMethod="POST",requestBody=applyParams(bodyParams,_objectSpread(_objectSpread({},this.options),{},{requestMethod}));return this.requests.queue(requestURL,requestMethod,requestBody,networkParameters),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationView",value:function trackRecommendationView(parameters){var networkParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(parameters&&"object"===(0,_typeof2.default)(parameters)&&!Array.isArray(parameters)){var requestPath="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_view?"),bodyParams={},result_count=parameters.result_count,result_page=parameters.result_page,result_id=parameters.result_id,section=parameters.section,url=parameters.url,pod_id=parameters.pod_id,num_results_viewed=parameters.num_results_viewed,items=parameters.items;helpers.isNil(result_count)||(bodyParams.result_count=result_count),helpers.isNil(result_page)||(bodyParams.result_page=result_page),result_id&&(bodyParams.result_id=result_id),bodyParams.section=section||"Products",url&&(bodyParams.url=url),pod_id&&(bodyParams.pod_id=pod_id),helpers.isNil(num_results_viewed)||(bodyParams.num_results_viewed=num_results_viewed),items&&Array.isArray(items)&&(bodyParams.items=items.slice(0,100));var requestURL="".concat(requestPath).concat(applyParamsAsString({},this.options)),requestMethod="POST",requestBody=applyParams(bodyParams,_objectSpread(_objectSpread({},this.options),{},{requestMethod}));return this.requests.queue(requestURL,requestMethod,requestBody,networkParameters),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationClick",value:function trackRecommendationClick(parameters){var networkParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(parameters&&"object"===(0,_typeof2.default)(parameters)&&!Array.isArray(parameters)){var requestPath="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_click?"),bodyParams={},variation_id=parameters.variation_id,section=parameters.section,result_id=parameters.result_id,result_count=parameters.result_count,result_page=parameters.result_page,result_position_on_page=parameters.result_position_on_page,num_results_per_page=parameters.num_results_per_page,pod_id=parameters.pod_id,strategy_id=parameters.strategy_id,item_id=parameters.item_id,item_name=parameters.item_name;variation_id&&(bodyParams.variation_id=variation_id),bodyParams.section=section||"Products",result_id&&(bodyParams.result_id=result_id),helpers.isNil(result_count)||(bodyParams.result_count=result_count),helpers.isNil(result_page)||(bodyParams.result_page=result_page),helpers.isNil(result_position_on_page)||(bodyParams.result_position_on_page=result_position_on_page),helpers.isNil(num_results_per_page)||(bodyParams.num_results_per_page=num_results_per_page),pod_id&&(bodyParams.pod_id=pod_id),strategy_id&&(bodyParams.strategy_id=strategy_id),item_id&&(bodyParams.item_id=item_id),item_name&&(bodyParams.item_name=item_name);var requestURL="".concat(requestPath).concat(applyParamsAsString({},this.options)),requestMethod="POST",requestBody=applyParams(bodyParams,_objectSpread(_objectSpread({},this.options),{},{requestMethod}));return this.requests.queue(requestURL,requestMethod,requestBody,networkParameters),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultsLoaded",value:function trackBrowseResultsLoaded(parameters){var networkParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(parameters&&"object"===(0,_typeof2.default)(parameters)&&!Array.isArray(parameters)){var requestPath="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_load?"),bodyParams={},section=parameters.section,result_count=parameters.result_count,result_page=parameters.result_page,result_id=parameters.result_id,selected_filters=parameters.selected_filters,url=parameters.url,sort_order=parameters.sort_order,sort_by=parameters.sort_by,filter_name=parameters.filter_name,filter_value=parameters.filter_value,items=parameters.items;bodyParams.section=section||"Products",helpers.isNil(result_count)||(bodyParams.result_count=result_count),helpers.isNil(result_page)||(bodyParams.result_page=result_page),result_id&&(bodyParams.result_id=result_id),selected_filters&&(bodyParams.selected_filters=selected_filters),url&&(bodyParams.url=url),sort_order&&(bodyParams.sort_order=sort_order),sort_by&&(bodyParams.sort_by=sort_by),filter_name&&(bodyParams.filter_name=filter_name),filter_value&&(bodyParams.filter_value=filter_value),items&&Array.isArray(items)&&(bodyParams.items=items.slice(0,100));var requestURL="".concat(requestPath).concat(applyParamsAsString({},this.options)),requestMethod="POST",requestBody=applyParams(bodyParams,_objectSpread(_objectSpread({},this.options),{},{requestMethod}));return this.requests.queue(requestURL,requestMethod,requestBody,networkParameters),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultClick",value:function trackBrowseResultClick(parameters){var networkParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(parameters&&"object"===(0,_typeof2.default)(parameters)&&!Array.isArray(parameters)){var requestPath="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_click?"),bodyParams={},section=parameters.section,variation_id=parameters.variation_id,result_id=parameters.result_id,result_count=parameters.result_count,result_page=parameters.result_page,result_position_on_page=parameters.result_position_on_page,num_results_per_page=parameters.num_results_per_page,selected_filters=parameters.selected_filters,filter_name=parameters.filter_name,filter_value=parameters.filter_value,item_id=parameters.item_id,customer_id=parameters.customer_id,item_name=parameters.item_name,name=parameters.name;bodyParams.section=section||"Products",variation_id&&(bodyParams.variation_id=variation_id),result_id&&(bodyParams.result_id=result_id),helpers.isNil(result_count)||(bodyParams.result_count=result_count),helpers.isNil(result_page)||(bodyParams.result_page=result_page),helpers.isNil(result_position_on_page)||(bodyParams.result_position_on_page=result_position_on_page),helpers.isNil(num_results_per_page)||(bodyParams.num_results_per_page=num_results_per_page),selected_filters&&(bodyParams.selected_filters=selected_filters),filter_name&&(bodyParams.filter_name=filter_name),filter_value&&(bodyParams.filter_value=filter_value),item_id?bodyParams.item_id=item_id:customer_id&&(bodyParams.item_id=customer_id),item_name?bodyParams.item_name=item_name:name&&(bodyParams.item_name=name);var requestURL="".concat(requestPath).concat(applyParamsAsString({},this.options)),requestMethod="POST",requestBody=applyParams(bodyParams,_objectSpread(_objectSpread({},this.options),{},{requestMethod}));return this.requests.queue(requestURL,requestMethod,requestBody,networkParameters),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackGenericResultClick",value:function trackGenericResultClick(parameters){var networkParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===(0,_typeof2.default)(parameters)&&parameters.item_id){var requestPath="".concat(this.options.serviceUrl,"/v2/behavioral_action/result_click?"),bodyParams={},item_id=parameters.item_id,item_name=parameters.item_name,variation_id=parameters.variation_id,section=parameters.section;bodyParams.section=section||"Products",bodyParams.item_id=item_id,item_name&&(bodyParams.item_name=item_name),variation_id&&(bodyParams.variation_id=variation_id);var requestURL="".concat(requestPath).concat(applyParamsAsString({},this.options)),requestMethod="POST",requestBody=applyParams(bodyParams,_objectSpread(_objectSpread({},this.options),{},{requestMethod}));return this.requests.queue(requestURL,requestMethod,requestBody,networkParameters),this.requests.send(),!0}return this.requests.send(),new Error('A parameters object with an "item_id" property is required.')}},{key:"on",value:function on(messageType,callback){return"success"!==messageType&&"error"!==messageType?new Error('messageType must be a string of value "success" or "error"'):callback&&"function"==typeof callback?(this.eventemitter.on(messageType,callback),!0):new Error("callback is required and must be a function")}}]),Tracker}();Tracker.RequestQueue=RequestQueue,module.exports=Tracker},"./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/botlist.js":module=>{"use strict";module.exports=["Googlebot/","Googlebot-Mobile","Googlebot-Image","Googlebot-News","Googlebot-Video","AdsBot-Google([^-]|$)","AdsBot-Google-Mobile","Feedfetcher-Google","Mediapartners-Google","Mediapartners \\(Googlebot\\)","APIs-Google","bingbot","Slurp","[wW]get","curl","LinkedInBot","Python-urllib","python-requests","libwww","httpunit","nutch","Go-http-client","phpcrawl","msnbot","jyxobot","FAST-WebCrawler","FAST Enterprise Crawler","BIGLOTRON","Teoma","convera","seekbot","Gigabot","Gigablast","exabot","ia_archiver","GingerCrawler","webmon ","HTTrack","grub\\.org","UsineNouvelleCrawler","antibot","netresearchserver","speedy","fluffy","bibnum\\.bnf","findlink","msrbot","panscient","yacybot","AISearchBot","ips-agent","tagoobot","MJ12bot","woriobot","yanga","buzzbot","mlbot","YandexBot","yandex\\.com/bots","purebot","Linguee Bot","CyberPatrol","voilabot","Baiduspider","citeseerxbot","spbot","twengabot","postrank","turnitinbot","scribdbot","page2rss","sitebot","linkdex","Adidxbot","blekkobot","ezooms","dotbot","Mail\\.RU_Bot","discobot","heritrix","findthatfile","europarchive\\.org","NerdByNature\\.Bot","sistrix crawler","Ahrefs(Bot|SiteAudit)","fuelbot","CrunchBot","centurybot9","IndeedBot","mappydata","woobot","ZoominfoBot","PrivacyAwareBot","Multiviewbot","SWIMGBot","Grobbot","eright","Apercite","semanticbot","Aboundex","domaincrawler","wbsearchbot","summify","CCBot","edisterbot","seznambot","ec2linkfinder","gslfbot","aiHitBot","intelium_bot","facebookexternalhit","Yeti","RetrevoPageAnalyzer","lb-spider","Sogou","lssbot","careerbot","wotbox","wocbot","ichiro","DuckDuckBot","lssrocketcrawler","drupact","webcompanycrawler","acoonbot","openindexspider","gnam gnam spider","web-archive-net\\.com\\.bot","backlinkcrawler","coccoc","integromedb","content crawler spider","toplistbot","it2media-domain-crawler","ip-web-crawler\\.com","siteexplorer\\.info","elisabot","proximic","changedetection","arabot","WeSEE:Search","niki-bot","CrystalSemanticsBot","rogerbot","360Spider","psbot","InterfaxScanBot","CC Metadata Scaper","g00g1e\\.net","GrapeshotCrawler","urlappendbot","brainobot","fr-crawler","binlar","SimpleCrawler","Twitterbot","cXensebot","smtbot","bnf\\.fr_bot","A6-Indexer","ADmantX","Facebot","OrangeBot/","memorybot","AdvBot","MegaIndex","SemanticScholarBot","ltx71","nerdybot","xovibot","BUbiNG","Qwantify","archive\\.org_bot","Applebot","TweetmemeBot","crawler4j","findxbot","S[eE][mM]rushBot","yoozBot","lipperhey","Y!J","Domain Re-Animator Bot","AddThis","Screaming Frog SEO Spider","MetaURI","Scrapy","Livelap[bB]ot","OpenHoseBot","CapsuleChecker","collection@infegy\\.com","IstellaBot","DeuSu/","betaBot","Cliqzbot/","MojeekBot/","netEstate NE Crawler","SafeSearch microdata crawler","Gluten Free Crawler/","Sonic","Sysomos","Trove","deadlinkchecker","Slack-ImgProxy","Embedly","RankActiveLinkBot","iskanie","SafeDNSBot","SkypeUriPreview","Veoozbot","Slackbot","redditbot","datagnionbot","Google-Adwords-Instant","adbeat_bot","WhatsApp","contxbot","pinterest","electricmonk","GarlikCrawler","BingPreview/","vebidoobot","FemtosearchBot","Yahoo Link Preview","MetaJobBot","DomainStatsBot","mindUpBot","Daum/","Jugendschutzprogramm-Crawler","Xenu Link Sleuth","Pcore-HTTP","moatbot","KosmioBot","pingdom","PhantomJS","Gowikibot","PiplBot","Discordbot","TelegramBot","Jetslide","newsharecounts","James BOT","Barkrowler","TinEye","SocialRankIOBot","trendictionbot","Ocarinabot","epicbot","Primalbot","DuckDuckGo-Favicons-Bot","GnowitNewsbot","Leikibot","LinkArchiver","YaK/","PaperLiBot","Digg Deeper","dcrawl","Snacktory","AndersPinkBot","Fyrebot","EveryoneSocialBot","Mediatoolkitbot","Luminator-robots","ExtLinksBot","SurveyBot","NING/","okhttp","Nuzzel","omgili","PocketParser","YisouSpider","um-LN","ToutiaoSpider","MuckRack","Jamie's Spider","AHC/","NetcraftSurveyAgent","Laserlikebot","Apache-HttpClient","AppEngine-Google","Jetty","Upflow","Thinklab","Traackr\\.com","Twurly","Mastodon","http_get","DnyzBot","botify","007ac9 Crawler","BehloolBot","BrandVerity","check_http","BDCbot","ZumBot","EZID","ICC-Crawler","ArchiveBot","^LCC ","filterdb\\.iss\\.net/crawler","BLP_bbot","BomboraBot","Buck/","Companybook-Crawler","Genieo","magpie-crawler","MeltwaterNews","Moreover","newspaper/","ScoutJet","(^| )sentry/","StorygizeBot","UptimeRobot","OutclicksBot","seoscanners","Hatena","Google Web Preview","MauiBot","AlphaBot","SBL-BOT","IAS crawler","adscanner","Netvibes","acapbot","Baidu-YunGuanCe","bitlybot","blogmuraBot","Bot\\.AraTurka\\.com","bot-pge\\.chlooe\\.com","BoxcarBot","BTWebClient","ContextAd Bot","Digincore bot","Disqus","Feedly","Fetch/","Fever","Flamingo_SearchEngine","FlipboardProxy","g2reader-bot","imrbot","K7MLWCBot","Kemvibot","Landau-Media-Spider","linkapediabot","vkShare","Siteimprove\\.com","BLEXBot/","DareBoost","ZuperlistBot/","Miniflux/","Feedspotbot/","Diffbot/","SEOkicks","tracemyfile","Nimbostratus-Bot"]},"./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/event-dispatcher.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),helpers=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/helpers.js"),EventDispatcher=function(){function EventDispatcher(options){var _this=this;(0,_classCallCheck2.default)(this,EventDispatcher),this.events=[],this.enabled=!options||!1!==options.enabled,this.waitForBeacon=!options||!1!==options.waitForBeacon,this.active=this.enabled,this.waitForBeacon&&(this.active=!1,helpers.canUseDOM()&&(window.ConstructorioAutocomplete||window.ConstructorioBeacon||window.ConstructorioTracker)&&this.enabled&&(this.active=!0,this.dispatchEvents()),helpers.addEventListener("cio.beacon.loaded",(function(){_this.enabled&&(_this.active=!0,_this.dispatchEvents())})))}return(0,_createClass2.default)(EventDispatcher,[{key:"queue",value:function queue(name,data){this.events.push({name,data}),this.active&&this.dispatchEvents()}},{key:"dispatchEvents",value:function dispatchEvents(){for(;this.events.length;){var item=this.events.shift(),name=item.name,data=item.data,eventName="cio.client.".concat(name);helpers.dispatchEvent(helpers.createCustomEvent(eventName,data))}}}]),EventDispatcher}();module.exports=EventDispatcher},"./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/helpers.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _typeof2=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")(__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js")),CRC32=__webpack_require__("./node_modules/crc-32/crc32.js"),store=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/store.js"),utils={trimNonBreakingSpaces:function trimNonBreakingSpaces(string){return string.replace(/\s/g," ").trim()},encodeURIComponentRFC3986:function encodeURIComponentRFC3986(string){return encodeURIComponent(string).replace(/[!'()*]/g,(function(c){return"%".concat(c.charCodeAt(0).toString(16).toUpperCase())}))},cleanParams:function cleanParams(paramsObj){var cleanedParams={};return Object.keys(paramsObj).forEach((function(paramKey){var paramValue=paramsObj[paramKey];cleanedParams[paramKey]="string"==typeof paramValue?utils.trimNonBreakingSpaces(paramValue):paramValue})),cleanedParams},throwHttpErrorFromResponse:function throwHttpErrorFromResponse(error,response){return response.json().then((function(json){throw error.message=json.message,error.status=response.status,error.statusText=response.statusText,error.url=response.url,error.headers=response.headers,error}))},canUseDOM:function canUseDOM(){return!("undefined"==typeof window||!window.document||!window.document.createElement)},addEventListener:function addEventListener(eventType,callback,useCapture){utils.canUseDOM()&&window.addEventListener(eventType,callback,useCapture)},removeEventListener:function removeEventListener(eventType,callback,useCapture){utils.canUseDOM()&&window.removeEventListener(eventType,callback,useCapture)},getNavigator:function getNavigator(){return utils.canUseDOM()?window.navigator:{userAgent:"",webdriver:!1}},isNil:function isNil(value){return null==value},getWindowLocation:function getWindowLocation(){return utils.canUseDOM()?window.location:{}},dispatchEvent:function dispatchEvent(event){utils.canUseDOM()&&window.dispatchEvent(event)},createCustomEvent:function createCustomEvent(eventName,detail){if(utils.canUseDOM())try{return new window.CustomEvent(eventName,{detail})}catch(e){var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(eventName,!1,!1,detail),evt}return null},hasOrderIdRecord:function hasOrderIdRecord(orderId){var orderIdHash=CRC32.str(orderId.toString()),purchaseEventStorage=store.local.get("_constructorio_purchase_order_ids");return"string"==typeof purchaseEventStorage&&(purchaseEventStorage=JSON.parse(purchaseEventStorage)),!(!purchaseEventStorage||!purchaseEventStorage.includes(orderIdHash))||null},addOrderIdRecord:function addOrderIdRecord(orderId){var orderIdHash=CRC32.str(orderId.toString()),purchaseEventStorage=store.local.get("_constructorio_purchase_order_ids");if("string"==typeof purchaseEventStorage&&(purchaseEventStorage=JSON.parse(purchaseEventStorage)),purchaseEventStorage){if(purchaseEventStorage.includes(orderIdHash))return;purchaseEventStorage.length>=10&&(purchaseEventStorage=purchaseEventStorage.slice(-9)),purchaseEventStorage.push(orderIdHash)}else purchaseEventStorage=[orderIdHash];store.local.set("_constructorio_purchase_order_ids",purchaseEventStorage)},applyNetworkTimeout:function applyNetworkTimeout(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},networkParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},controller=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,optionsTimeout=options&&options.networkParameters&&options.networkParameters.timeout,networkParametersTimeout=networkParameters&&networkParameters.timeout,timeout=networkParametersTimeout||optionsTimeout;"number"==typeof timeout&&controller&&setTimeout((function(){return controller.abort()}),timeout)},stringify:function stringify(object,prefix,objectType){if(!object)return"";var allValues=[];return Object.keys(object).forEach((function(key){var stringifiedValue,value=object[key],encodedKey=utils.encodeURIComponentRFC3986(key);if(null!=value){var nextPrefix=prefix?"".concat(prefix,"%5B").concat(encodedKey,"%5D"):encodedKey;stringifiedValue=Array.isArray(value)?utils.stringify(value,nextPrefix,"array"):"object"===(0,_typeof2.default)(value)?utils.stringify(value,nextPrefix,"object"):"object"===objectType?"".concat(nextPrefix,"=").concat(utils.encodeURIComponentRFC3986(value)):"".concat(prefix||encodedKey,"=").concat(utils.encodeURIComponentRFC3986(value)),allValues.push(stringifiedValue)}})),allValues.join("&")}};module.exports=utils},"./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/humanity-check.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),store=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/store.js"),botList=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/botlist.js"),helpers=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/helpers.js"),storageKey="_constructorio_is_human",humanEvents=["scroll","resize","touchmove","mouseover","mousemove","keydown","keypress","keyup","focus"],HumanityCheck=function(){function HumanityCheck(){var _this=this;(0,_classCallCheck2.default)(this,HumanityCheck),this.isHumanBoolean=this.getIsHumanFromSessionStorage();var remove=function remove(){_this.isHumanBoolean=!0,store.session.set(storageKey,!0),humanEvents.forEach((function(eventType){helpers.removeEventListener(eventType,remove,!0)}))};this.isHumanBoolean||humanEvents.forEach((function(eventType){helpers.addEventListener(eventType,remove,!0)}))}return(0,_createClass2.default)(HumanityCheck,[{key:"getIsHumanFromSessionStorage",value:function getIsHumanFromSessionStorage(){return!!store.session.get(storageKey)||!1}},{key:"isHuman",value:function isHuman(){return this.isHumanBoolean||!!store.session.get(storageKey)}},{key:"isBot",value:function isBot(){if(this.getIsHumanFromSessionStorage())return!1;var _helpers$getNavigator=helpers.getNavigator(),userAgent=_helpers$getNavigator.userAgent,webdriver=_helpers$getNavigator.webdriver,botRegex=new RegExp("(".concat(botList.join("|"),")"));return Boolean(userAgent.match(botRegex))||Boolean(webdriver)}}]),HumanityCheck}();module.exports=HumanityCheck},"./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/request-queue.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),store=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/store.js"),HumanityCheck=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/humanity-check.js"),helpers=__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/helpers.js"),storageKey="_constructorio_requests",RequestQueue=function(){function RequestQueue(options,eventemitter){var _this=this;(0,_classCallCheck2.default)(this,RequestQueue),this.options=options,this.eventemitter=eventemitter,this.humanity=new HumanityCheck,this.requestPending=!1,this.pageUnloading=!1,this.sendTrackingEvents=!(!options||!0!==options.sendTrackingEvents),helpers.addEventListener("beforeunload",(function(){_this.pageUnloading=!0})),this.sendTrackingEvents&&this.send()}return(0,_createClass2.default)(RequestQueue,[{key:"queue",value:function queue(url){var method=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",body=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},networkParameters=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(this.sendTrackingEvents&&!this.humanity.isBot()){var queue=RequestQueue.get();queue.push({url,method,body,networkParameters}),RequestQueue.set(queue)}}},{key:"sendEvents",value:function sendEvents(){var _this2=this,fetch=this.options.fetch,queue=RequestQueue.get();if((!helpers.canUseDOM()||this.humanity.isHuman())&&!this.requestPending&&!this.pageUnloading&&queue.length){var request,signal,nextInQueue=queue.shift(),networkParameters=nextInQueue.networkParameters,instance=this;if(RequestQueue.set(queue),networkParameters&&"function"==typeof AbortController){var controller=new AbortController;signal=controller.signal,helpers.applyNetworkTimeout(this.options,networkParameters,controller)}if("string"==typeof nextInQueue&&(nextInQueue={url:nextInQueue,method:"GET"}),nextInQueue.url){var dtMatch=nextInQueue.url.match(/\?.*_dt=([^&]+)/),requestOriginTime=parseInt(dtMatch&&dtMatch[1],10),now=+new Date;if(requestOriginTime&&Number.isInteger(requestOriginTime)&&now-requestOriginTime>18e4)return this.sendTrackingEvents=!1,void RequestQueue.remove()}"GET"===nextInQueue.method&&(request=fetch(nextInQueue.url,{signal})),"POST"===nextInQueue.method&&(request=fetch(nextInQueue.url,{method:nextInQueue.method,body:JSON.stringify(nextInQueue.body),mode:"cors",headers:{"Content-Type":"text/plain"},signal})),request&&(this.requestPending=!0,request.then((function(response){response.ok?(instance.eventemitter&&instance.eventemitter.emit("success",{url:nextInQueue.url,method:nextInQueue.method,message:"ok"}),_this2.requestPending=!1,_this2.send()):response.json().then((function(json){instance.eventemitter&&instance.eventemitter.emit("error",{url:nextInQueue.url,method:nextInQueue.method,message:json&&json.message}),_this2.requestPending=!1,_this2.send()})).catch((function(error){instance.eventemitter&&instance.eventemitter.emit("error",{url:nextInQueue.url,method:nextInQueue.method,message:error.type}),_this2.requestPending=!1,_this2.send()}))})).catch((function(error){instance.eventemitter&&instance.eventemitter.emit("error",{url:nextInQueue.url,method:nextInQueue.method,message:error&&error.toString&&error.toString()}),_this2.requestPending=!1,_this2.send()})))}}},{key:"send",value:function send(){this.sendTrackingEvents&&(this.options&&0===this.options.trackingSendDelay?this.sendEvents():setTimeout(this.sendEvents.bind(this),this.options&&this.options.trackingSendDelay||250))}}],[{key:"get",value:function get(){return store.local.get(storageKey)||[]}},{key:"set",value:function set(queue){!queue||Array.isArray(queue)&&0===queue.length?RequestQueue.remove():store.local.set(storageKey,queue);var localStorageQueue=RequestQueue.get();Array.isArray(localStorageQueue)&&localStorageQueue.length!==queue.length&&(this.sendTrackingEvents=!1,RequestQueue.remove())}},{key:"remove",value:function remove(){store.local.remove(storageKey)}}]),RequestQueue}();module.exports=RequestQueue},"./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/store.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var store=__webpack_require__("./node_modules/store2/dist/store2.js");__webpack_require__("./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/store.overflow.js")(store,store._),module.exports=store},"./node_modules/@constructor-io/constructorio-client-javascript/lib/utils/store.overflow.js":module=>{"use strict";module.exports=function(store,_){var _set=_.set,_get=_.get,_remove=_.remove,_key=_.key,_length=_.length,_clear=_.clear;_.overflow=function(area,create){var name=area===_.areas.local?"+local+":area===_.areas.session&&"+session+";if(name){var overflow=_.areas[name];return create&&!overflow?overflow=store.area(name)._area:!1===create&&(delete _.areas[name],delete store[name]),overflow}},_.set=function(area,key,string){try{_set.apply(this,arguments)}catch(e){if("QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||-1!==e.toString().indexOf("QUOTA_EXCEEDED_ERR")||-1!==e.toString().indexOf("QuotaExceededError"))return _.set(_.overflow(area,!0),key,string);throw e}},_.get=function(area,key){var overflow=_.overflow(area);return overflow&&_get.call(this,overflow,key)||_get.apply(this,arguments)},_.remove=function(area,key){var overflow=_.overflow(area);overflow&&_remove.call(this,overflow,key),_remove.apply(this,arguments)},_.key=function(area,i){var overflow=_.overflow(area);if(overflow){var l=_length.call(this,area);if(i>=l){i-=l;for(var j=0,m=_length.call(this,overflow);j<m;j++)if(j===i)return _key.call(this,overflow,j)}}return _key.apply(this,arguments)},_.length=function(area){var length=_length(area),overflow=_.overflow(area);return overflow?length+_length(overflow):length},_.clear=function(area){_.overflow(area,!1),_clear.apply(this,arguments)}}},"./node_modules/@constructor-io/constructorio-id/src/constructorio-id.js":module=>{!function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){"use strict";if(null==e)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n){n=Object(n);for(var o=Object.keys(Object(n)),a=0,c=o.length;c>a;a++){var i=o[a],b=Object.getOwnPropertyDescriptor(n,i);void 0!==b&&b.enumerable&&(r[i]=n[i])}}}return r}});var ConstructorioID=function(options){var persisted_id,defaults={user_agent:null,persist:!0,cookie_name_client_id:"ConstructorioID_client_id",cookie_name_session_id:"ConstructorioID_session_id",cookie_name_session_data:"ConstructorioID_session",cookie_domain:null,cookie_days_to_live:365,local_name_client_id:"_constructorio_search_client_id",local_name_session_id:"_constructorio_search_session_id",local_name_session_data:"_constructorio_search_session",on_node:"undefined"==typeof window,session_is_new:null,client_id_storage_location:"cookie",session_id_storage_location:"local"};(Object.assign(this,defaults,options),this.client_id)||(!this.on_node&&this.persist?("cookie"===this.client_id_storage_location&&(persisted_id=this.get_cookie(this.cookie_name_client_id)),"local"===this.client_id_storage_location&&(persisted_id=this.get_local_object(this.local_name_client_id)),this.client_id=persisted_id||this.generate_client_id()):this.client_id=this.generate_client_id());this.session_id||(!this.on_node&&this.persist?this.session_id=this.generate_session_id():this.session_id=1),this.on_node||(this.user_agent=this.user_agent||window&&window.navigator&&window.navigator.userAgent)};ConstructorioID.prototype.set_cookie=function(name,value){if(!this.on_node&&this.persist){var cookie_data=name+"="+value+"; expires="+new Date(Date.now()+24*this.cookie_days_to_live*60*60*1e3).toUTCString()+"; path=/";return this.cookie_domain&&(cookie_data+="; domain="+this.cookie_domain),document.cookie=cookie_data,cookie_data}return null},ConstructorioID.prototype.get_cookie=function(name){for(var cookieName=name+"=",cookieBits=document.cookie.split(";"),i=0;i<cookieBits.length;i++){var thisCookie=cookieBits[i];try{for(var decodedCookie=decodeURIComponent(thisCookie);" "===decodedCookie.charAt(0);)decodedCookie=decodedCookie.substring(1);if(0===decodedCookie.indexOf(cookieName))return decodedCookie.substring(cookieName.length,decodedCookie.length)}catch(e){}}},ConstructorioID.prototype.delete_cookie=function(name){document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},ConstructorioID.prototype.generate_client_id=function(){var client_id;if(!this.on_node){var cookie_persisted_client_id=this.get_cookie(this.cookie_name_client_id),local_persisted_client_id=this.get_local_object(this.local_name_client_id);"cookie"===this.client_id_storage_location&&local_persisted_client_id&&(client_id=local_persisted_client_id,this.set_cookie(this.cookie_name_client_id,client_id),this.delete_local_object(this.local_name_client_id)),"local"===this.client_id_storage_location&&cookie_persisted_client_id&&(client_id=cookie_persisted_client_id,this.set_local_object(this.local_name_client_id,client_id),this.delete_cookie(this.cookie_name_client_id))}return client_id||(client_id="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)})),"cookie"===this.client_id_storage_location&&this.set_cookie(this.cookie_name_client_id,client_id),"local"===this.client_id_storage_location&&this.set_local_object(this.local_name_client_id,client_id)),client_id},ConstructorioID.prototype.get_local_object=function(key){var data,localStorage=window&&window.localStorage;if(localStorage&&"string"==typeof key)try{data=JSON.parse(localStorage.getItem(key))}catch(e){data=localStorage.getItem(key)}return data},ConstructorioID.prototype.set_local_object=function(key,data){var localStorage=window&&window.localStorage;if(localStorage&&"string"==typeof key){if("object"==typeof data)try{localStorage.setItem(key,JSON.stringify(data))}catch(e){}if("string"==typeof data||"number"==typeof data)try{localStorage.setItem(key,data)}catch(e){}}},ConstructorioID.prototype.delete_local_object=function(key){var localStorage=window&&window.localStorage;if(localStorage&&"string"==typeof key)try{localStorage.removeItem(key)}catch(e){}},ConstructorioID.prototype.generate_session_id=function(){var sessionData,cookie_persisted_session_data=this.get_cookie(this.cookie_name_session_data),local_persisted_session_data=this.get_local_object(this.local_name_session_data),now=Date.now();if("local"===this.session_id_storage_location&&!(sessionData=this.get_local_object(this.local_name_session_data))&&cookie_persisted_session_data&&(sessionData=cookie_persisted_session_data,this.delete_cookie(this.cookie_name_session_data)),"cookie"===this.session_id_storage_location){sessionData=this.get_cookie(this.cookie_name_session_data);try{sessionData=JSON.parse(sessionData)}catch(e){}!sessionData&&local_persisted_session_data&&(sessionData=local_persisted_session_data,this.delete_local_object(this.local_name_session_data))}var sessionId=1,sessionDataId=1;return sessionData&&"object"==typeof sessionData&&(sessionDataId=parseInt(sessionData.sessionId,10)||1,sessionId=sessionData.lastTime>now-18e5?sessionDataId:sessionDataId+1),this.session_id=sessionId,this.session_is_new=!sessionData||sessionDataId!==sessionId,"local"===this.session_id_storage_location&&(this.set_local_object(this.local_name_session_id,sessionId),this.set_local_object(this.local_name_session_data,{sessionId,lastTime:now})),"cookie"===this.session_id_storage_location&&(this.set_cookie(this.cookie_name_session_id,sessionId),this.set_cookie(this.cookie_name_session_data,JSON.stringify({sessionId,lastTime:now}))),sessionId},module.exports=ConstructorioID}()},"./node_modules/crc-32/crc32.js":(__unused_webpack_module,exports)=>{var factory;factory=function(CRC32){CRC32.version="1.2.2";var T0=function signed_crc_table(){for(var c=0,table=new Array(256),n=0;256!=n;++n)c=1&(c=1&(c=1&(c=1&(c=1&(c=1&(c=1&(c=1&(c=n)?-306674912^c>>>1:c>>>1)?-306674912^c>>>1:c>>>1)?-306674912^c>>>1:c>>>1)?-306674912^c>>>1:c>>>1)?-306674912^c>>>1:c>>>1)?-306674912^c>>>1:c>>>1)?-306674912^c>>>1:c>>>1)?-306674912^c>>>1:c>>>1,table[n]=c;return"undefined"!=typeof Int32Array?new Int32Array(table):table}(),TT=function slice_by_16_tables(T){var c=0,v=0,n=0,table="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(n=0;256!=n;++n)table[n]=T[n];for(n=0;256!=n;++n)for(v=T[n],c=256+n;c<4096;c+=256)v=table[c]=v>>>8^T[255&v];var out=[];for(n=1;16!=n;++n)out[n-1]="undefined"!=typeof Int32Array?table.subarray(256*n,256*n+256):table.slice(256*n,256*n+256);return out}(T0),T1=TT[0],T2=TT[1],T3=TT[2],T4=TT[3],T5=TT[4],T6=TT[5],T7=TT[6],T8=TT[7],T9=TT[8],Ta=TT[9],Tb=TT[10],Tc=TT[11],Td=TT[12],Te=TT[13],Tf=TT[14];CRC32.table=T0,CRC32.bstr=function crc32_bstr(bstr,seed){for(var C=-1^seed,i=0,L=bstr.length;i<L;)C=C>>>8^T0[255&(C^bstr.charCodeAt(i++))];return~C},CRC32.buf=function crc32_buf(B,seed){for(var C=-1^seed,L=B.length-15,i=0;i<L;)C=Tf[B[i++]^255&C]^Te[B[i++]^C>>8&255]^Td[B[i++]^C>>16&255]^Tc[B[i++]^C>>>24]^Tb[B[i++]]^Ta[B[i++]]^T9[B[i++]]^T8[B[i++]]^T7[B[i++]]^T6[B[i++]]^T5[B[i++]]^T4[B[i++]]^T3[B[i++]]^T2[B[i++]]^T1[B[i++]]^T0[B[i++]];for(L+=15;i<L;)C=C>>>8^T0[255&(C^B[i++])];return~C},CRC32.str=function crc32_str(str,seed){for(var C=-1^seed,i=0,L=str.length,c=0,d=0;i<L;)(c=str.charCodeAt(i++))<128?C=C>>>8^T0[255&(C^c)]:c<2048?C=(C=C>>>8^T0[255&(C^(192|c>>6&31))])>>>8^T0[255&(C^(128|63&c))]:c>=55296&&c<57344?(c=64+(1023&c),d=1023&str.charCodeAt(i++),C=(C=(C=(C=C>>>8^T0[255&(C^(240|c>>8&7))])>>>8^T0[255&(C^(128|c>>2&63))])>>>8^T0[255&(C^(128|d>>6&15|(3&c)<<4))])>>>8^T0[255&(C^(128|63&d))]):C=(C=(C=C>>>8^T0[255&(C^(224|c>>12&15))])>>>8^T0[255&(C^(128|c>>6&63))])>>>8^T0[255&(C^(128|63&c))];return~C}},"undefined"==typeof DO_NOT_EXPORT_CRC?factory(exports):factory({})},"./node_modules/css-loader/dist/runtime/api.js":module=>{"use strict";module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map((function(item){var content="",needLayer=void 0!==item[5];return item[4]&&(content+="@supports (".concat(item[4],") {")),item[2]&&(content+="@media ".concat(item[2]," {")),needLayer&&(content+="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {")),content+=cssWithMappingToString(item),needLayer&&(content+="}"),item[2]&&(content+="}"),item[4]&&(content+="}"),content})).join("")},list.i=function i(modules,media,dedupe,supports,layer){"string"==typeof modules&&(modules=[[null,modules,void 0]]);var alreadyImportedModules={};if(dedupe)for(var k=0;k<this.length;k++){var id=this[k][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _k=0;_k<modules.length;_k++){var item=[].concat(modules[_k]);dedupe&&alreadyImportedModules[item[0]]||(void 0!==layer&&(void 0===item[5]||(item[1]="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {").concat(item[1],"}")),item[5]=layer),media&&(item[2]?(item[1]="@media ".concat(item[2]," {").concat(item[1],"}"),item[2]=media):item[2]=media),supports&&(item[4]?(item[1]="@supports (".concat(item[4],") {").concat(item[1],"}"),item[4]=supports):item[4]="".concat(supports)),list.push(item))}},list}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":module=>{"use strict";module.exports=function(item){var content=item[1],cssMapping=item[3];if(!cssMapping)return content;if("function"==typeof btoa){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64),sourceMapping="/*# ".concat(data," */");return[content].concat([sourceMapping]).join("\n")}return[content].join("\n")}},"./node_modules/downshift/dist/downshift.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Kb:()=>useCombobox});var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("./node_modules/react/index.js");__webpack_require__("./node_modules/react-is/index.js");function t(t){return"object"==typeof t&&null!=t&&1===t.nodeType}function e(t,e){return(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t}function n(t,n){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var r=getComputedStyle(t,null);return e(r.overflowY,n)||e(r.overflowX,n)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function r(t,e,n,r,i,o,l,d){return o<t&&l>e||o>t&&l<e?0:o<=t&&d<=n||l>=e&&d>=n?o-t-r:l>e&&d<n||o<t&&d>n?l-e+i:0}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};Object.create;Object.create;let idCounter=0;function noop(){}function scrollIntoView(node,menuNode){if(!node)return;const actions=function(e,i){var o=window,l=i.scrollMode,d=i.block,f=i.inline,h=i.boundary,u=i.skipOverflowHiddenElements,s="function"==typeof h?h:function(t){return t!==h};if(!t(e))throw new TypeError("Invalid target");for(var a,c,g=document.scrollingElement||document.documentElement,p=[],m=e;t(m)&&s(m);){if((m=null==(c=(a=m).parentElement)?a.getRootNode().host||null:c)===g){p.push(m);break}null!=m&&m===document.body&&n(m)&&!n(document.documentElement)||null!=m&&n(m,u)&&p.push(m)}for(var w=o.visualViewport?o.visualViewport.width:innerWidth,v=o.visualViewport?o.visualViewport.height:innerHeight,W=window.scrollX||pageXOffset,H=window.scrollY||pageYOffset,b=e.getBoundingClientRect(),y=b.height,E=b.width,M=b.top,V=b.right,x=b.bottom,I=b.left,C="start"===d||"nearest"===d?M:"end"===d?x:M+y/2,R="center"===f?I+E/2:"end"===f?V:I,T=[],k=0;k<p.length;k++){var B=p[k],D=B.getBoundingClientRect(),O=D.height,X=D.width,Y=D.top,L=D.right,S=D.bottom,j=D.left;if("if-needed"===l&&M>=0&&I>=0&&x<=v&&V<=w&&M>=Y&&x<=S&&I>=j&&V<=L)return T;var N=getComputedStyle(B),q=parseInt(N.borderLeftWidth,10),z=parseInt(N.borderTopWidth,10),A=parseInt(N.borderRightWidth,10),F=parseInt(N.borderBottomWidth,10),G=0,J=0,K="offsetWidth"in B?B.offsetWidth-B.clientWidth-q-A:0,P="offsetHeight"in B?B.offsetHeight-B.clientHeight-z-F:0,Q="offsetWidth"in B?0===B.offsetWidth?0:X/B.offsetWidth:0,U="offsetHeight"in B?0===B.offsetHeight?0:O/B.offsetHeight:0;if(g===B)G="start"===d?C:"end"===d?C-v:"nearest"===d?r(H,H+v,v,z,F,H+C,H+C+y,y):C-v/2,J="start"===f?R:"center"===f?R-w/2:"end"===f?R-w:r(W,W+w,w,q,A,W+R,W+R+E,E),G=Math.max(0,G+H),J=Math.max(0,J+W);else{G="start"===d?C-Y-z:"end"===d?C-S+F+P:"nearest"===d?r(Y,S,O,z,F+P,C,C+y,y):C-(Y+O/2)+P/2,J="start"===f?R-j-q:"center"===f?R-(j+X/2)+K/2:"end"===f?R-L+A+K:r(j,L,X,q,A+K,R,R+E,E);var Z=B.scrollLeft,$=B.scrollTop;C+=$-(G=Math.max(0,Math.min($+G/U,B.scrollHeight-O/U+P))),R+=Z-(J=Math.max(0,Math.min(Z+J/Q,B.scrollWidth-X/Q+K)))}T.push({el:B,top:G,left:J})}return T}(node,{boundary:menuNode,block:"nearest",scrollMode:"if-needed"});actions.forEach((_ref=>{let{el,top,left}=_ref;el.scrollTop=top,el.scrollLeft=left}))}function isOrContainsNode(parent,child,environment){return parent===child||child instanceof environment.Node&&parent.contains&&parent.contains(child)}function debounce(fn,time){let timeoutId;function cancel(){timeoutId&&clearTimeout(timeoutId)}function wrapper(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];cancel(),timeoutId=setTimeout((()=>{timeoutId=null,fn(...args)}),time)}return wrapper.cancel=cancel,wrapper}function callAllEventHandlers(){for(var _len2=arguments.length,fns=new Array(_len2),_key2=0;_key2<_len2;_key2++)fns[_key2]=arguments[_key2];return function(event){for(var _len3=arguments.length,args=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)args[_key3-1]=arguments[_key3];return fns.some((fn=>(fn&&fn(event,...args),event.preventDownshiftDefault||event.hasOwnProperty("nativeEvent")&&event.nativeEvent.preventDownshiftDefault)))}}function handleRefs(){for(var _len4=arguments.length,refs=new Array(_len4),_key4=0;_key4<_len4;_key4++)refs[_key4]=arguments[_key4];return node=>{refs.forEach((ref=>{"function"==typeof ref?ref(node):ref&&(ref.current=node)}))}}function generateId(){return String(idCounter++)}function getA11yStatusMessage$1(_ref2){let{isOpen,resultCount,previousResultCount}=_ref2;return isOpen?resultCount?resultCount!==previousResultCount?`${resultCount} result${1===resultCount?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function getState(state,props){return Object.keys(state).reduce(((prevState,key)=>(prevState[key]=isControlledProp(props,key)?props[key]:state[key],prevState)),{})}function isControlledProp(props,key){return void 0!==props[key]}function normalizeArrowKey(event){const{key,keyCode}=event;return keyCode>=37&&keyCode<=40&&0!==key.indexOf("Arrow")?`Arrow${key}`:key}function getNextWrappingIndex(moveAmount,baseIndex,itemCount,getItemNodeFromIndex,circular){if(void 0===circular&&(circular=!0),0===itemCount)return-1;const itemsLastIndex=itemCount-1;("number"!=typeof baseIndex||baseIndex<0||baseIndex>=itemCount)&&(baseIndex=moveAmount>0?-1:itemsLastIndex+1);let newIndex=baseIndex+moveAmount;newIndex<0?newIndex=circular?itemsLastIndex:0:newIndex>itemsLastIndex&&(newIndex=circular?0:itemsLastIndex);const nonDisabledNewIndex=getNextNonDisabledIndex(moveAmount,newIndex,itemCount,getItemNodeFromIndex,circular);return-1===nonDisabledNewIndex?baseIndex>=itemCount?-1:baseIndex:nonDisabledNewIndex}function getNextNonDisabledIndex(moveAmount,baseIndex,itemCount,getItemNodeFromIndex,circular){const currentElementNode=getItemNodeFromIndex(baseIndex);if(!currentElementNode||!currentElementNode.hasAttribute("disabled"))return baseIndex;if(moveAmount>0){for(let index=baseIndex+1;index<itemCount;index++)if(!getItemNodeFromIndex(index).hasAttribute("disabled"))return index}else for(let index=baseIndex-1;index>=0;index--)if(!getItemNodeFromIndex(index).hasAttribute("disabled"))return index;return circular?moveAmount>0?getNextNonDisabledIndex(1,0,itemCount,getItemNodeFromIndex,!1):getNextNonDisabledIndex(-1,itemCount-1,itemCount,getItemNodeFromIndex,!1):-1}function targetWithinDownshift(target,downshiftElements,environment,checkActiveElement){return void 0===checkActiveElement&&(checkActiveElement=!0),downshiftElements.some((contextNode=>contextNode&&(isOrContainsNode(contextNode,target,environment)||checkActiveElement&&isOrContainsNode(contextNode,environment.document.activeElement,environment))))}const cleanupStatus=debounce((documentProp=>{getStatusDiv(documentProp).textContent=""}),500);function setStatus(status,documentProp){const div=getStatusDiv(documentProp);status&&(div.textContent=status,cleanupStatus(documentProp))}function getStatusDiv(documentProp){void 0===documentProp&&(documentProp=document);let statusDiv=documentProp.getElementById("a11y-status-message");return statusDiv||(statusDiv=documentProp.createElement("div"),statusDiv.setAttribute("id","a11y-status-message"),statusDiv.setAttribute("role","status"),statusDiv.setAttribute("aria-live","polite"),statusDiv.setAttribute("aria-relevant","additions text"),Object.assign(statusDiv.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),documentProp.body.appendChild(statusDiv),statusDiv)}const dropdownDefaultStateValues={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function callOnChangeProps(action,state,newState){const{props,type}=action,changes={};Object.keys(state).forEach((key=>{!function invokeOnChangeHandler(key,action,state,newState){const{props,type}=action,handler=`on${capitalizeString(key)}Change`;props[handler]&&void 0!==newState[key]&&newState[key]!==state[key]&&props[handler]({type,...newState})}(key,action,state,newState),newState[key]!==state[key]&&(changes[key]=newState[key])})),props.onStateChange&&Object.keys(changes).length&&props.onStateChange({type,...changes})}const updateA11yStatus=debounce(((getA11yMessage,document)=>{setStatus(getA11yMessage(),document)}),200),useIsomorphicLayoutEffect="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?react.useLayoutEffect:react.useEffect;function useElementIds(_ref){let{id=`downshift-${generateId()}`,labelId,menuId,getItemId,toggleButtonId,inputId}=_ref;return(0,react.useRef)({labelId:labelId||`${id}-label`,menuId:menuId||`${id}-menu`,getItemId:getItemId||(index=>`${id}-item-${index}`),toggleButtonId:toggleButtonId||`${id}-toggle-button`,inputId:inputId||`${id}-input`}).current}function getItemIndex(index,item,items){return void 0!==index?index:0===items.length?-1:items.indexOf(item)}function capitalizeString(string){return`${string.slice(0,1).toUpperCase()}${string.slice(1)}`}function useLatestRef(val){const ref=(0,react.useRef)(val);return ref.current=val,ref}function useEnhancedReducer(reducer,initialState,props){const prevStateRef=(0,react.useRef)(),actionRef=(0,react.useRef)(),enhancedReducer=(0,react.useCallback)(((state,action)=>{actionRef.current=action,state=getState(state,action.props);const changes=reducer(state,action);return action.props.stateReducer(state,{...action,changes})}),[reducer]),[state,dispatch]=(0,react.useReducer)(enhancedReducer,initialState),propsRef=useLatestRef(props),dispatchWithProps=(0,react.useCallback)((action=>dispatch({props:propsRef.current,...action})),[propsRef]),action=actionRef.current;return(0,react.useEffect)((()=>{action&&prevStateRef.current&&prevStateRef.current!==state&&callOnChangeProps(action,getState(prevStateRef.current,action.props),state),prevStateRef.current=state}),[state,props,action]),[state,dispatchWithProps]}const defaultProps$3={itemToString:function itemToString(item){return item?String(item):""},stateReducer:function stateReducer(s,a){return a.changes},getA11ySelectionMessage:function getA11ySelectionMessage(selectionParameters){const{selectedItem,itemToString:itemToStringLocal}=selectionParameters;return selectedItem?`${itemToStringLocal(selectedItem)} has been selected.`:""},scrollIntoView,circularNavigation:!1,environment:"undefined"==typeof window?{}:window};function getDefaultValue$1(props,propKey,defaultStateValues){void 0===defaultStateValues&&(defaultStateValues=dropdownDefaultStateValues);const defaultValue=props[`default${capitalizeString(propKey)}`];return void 0!==defaultValue?defaultValue:defaultStateValues[propKey]}function getInitialValue$1(props,propKey,defaultStateValues){void 0===defaultStateValues&&(defaultStateValues=dropdownDefaultStateValues);const value=props[propKey];if(void 0!==value)return value;const initialValue=props[`initial${capitalizeString(propKey)}`];return void 0!==initialValue?initialValue:getDefaultValue$1(props,propKey,defaultStateValues)}function getInitialState$2(props){const selectedItem=getInitialValue$1(props,"selectedItem"),isOpen=getInitialValue$1(props,"isOpen"),highlightedIndex=getInitialValue$1(props,"highlightedIndex"),inputValue=getInitialValue$1(props,"inputValue");return{highlightedIndex:highlightedIndex<0&&selectedItem&&isOpen?props.items.indexOf(selectedItem):highlightedIndex,isOpen,selectedItem,inputValue}}function getHighlightedIndexOnOpen(props,state,offset,getItemNodeFromIndex){const{items,initialHighlightedIndex,defaultHighlightedIndex}=props,{selectedItem,highlightedIndex}=state;return 0===items.length?-1:void 0!==initialHighlightedIndex&&highlightedIndex===initialHighlightedIndex?initialHighlightedIndex:void 0!==defaultHighlightedIndex?defaultHighlightedIndex:selectedItem?0===offset?items.indexOf(selectedItem):getNextWrappingIndex(offset,items.indexOf(selectedItem),items.length,getItemNodeFromIndex,!1):0===offset?-1:offset<0?items.length-1:0}function useMouseAndTouchTracker(isOpen,downshiftElementRefs,environment,handleBlur){const mouseAndTouchTrackersRef=(0,react.useRef)({isMouseDown:!1,isTouchMove:!1});return(0,react.useEffect)((()=>{const onMouseDown=()=>{mouseAndTouchTrackersRef.current.isMouseDown=!0},onMouseUp=event=>{mouseAndTouchTrackersRef.current.isMouseDown=!1,isOpen&&!targetWithinDownshift(event.target,downshiftElementRefs.map((ref=>ref.current)),environment)&&handleBlur()},onTouchStart=()=>{mouseAndTouchTrackersRef.current.isTouchMove=!1},onTouchMove=()=>{mouseAndTouchTrackersRef.current.isTouchMove=!0},onTouchEnd=event=>{!isOpen||mouseAndTouchTrackersRef.current.isTouchMove||targetWithinDownshift(event.target,downshiftElementRefs.map((ref=>ref.current)),environment,!1)||handleBlur()};return environment.addEventListener("mousedown",onMouseDown),environment.addEventListener("mouseup",onMouseUp),environment.addEventListener("touchstart",onTouchStart),environment.addEventListener("touchmove",onTouchMove),environment.addEventListener("touchend",onTouchEnd),function cleanup(){environment.removeEventListener("mousedown",onMouseDown),environment.removeEventListener("mouseup",onMouseUp),environment.removeEventListener("touchstart",onTouchStart),environment.removeEventListener("touchmove",onTouchMove),environment.removeEventListener("touchend",onTouchEnd)}}),[isOpen,environment]),mouseAndTouchTrackersRef}let useGetterPropsCalledChecker=()=>noop;function useA11yMessageSetter(getA11yMessage,dependencyArray,_ref2){let{isInitialMount,highlightedIndex,items,environment,...rest}=_ref2;(0,react.useEffect)((()=>{isInitialMount||updateA11yStatus((()=>getA11yMessage({highlightedIndex,highlightedItem:items[highlightedIndex],resultCount:items.length,...rest})),environment.document)}),dependencyArray)}function useScrollIntoView(_ref3){let{highlightedIndex,isOpen,itemRefs,getItemNodeFromIndex,menuElement,scrollIntoView:scrollIntoViewProp}=_ref3;const shouldScrollRef=(0,react.useRef)(!0);return useIsomorphicLayoutEffect((()=>{highlightedIndex<0||!isOpen||!Object.keys(itemRefs.current).length||(!1===shouldScrollRef.current?shouldScrollRef.current=!0:scrollIntoViewProp(getItemNodeFromIndex(highlightedIndex),menuElement))}),[highlightedIndex]),shouldScrollRef}let useControlPropsValidator=noop;function downshiftCommonReducer(state,action,stateChangeTypes){const{type,props}=action;let changes;switch(type){case stateChangeTypes.ItemMouseMove:changes={highlightedIndex:action.disabled?-1:action.index};break;case stateChangeTypes.MenuMouseLeave:changes={highlightedIndex:-1};break;case stateChangeTypes.ToggleButtonClick:case stateChangeTypes.FunctionToggleMenu:changes={isOpen:!state.isOpen,highlightedIndex:state.isOpen?-1:getHighlightedIndexOnOpen(props,state,0)};break;case stateChangeTypes.FunctionOpenMenu:changes={isOpen:!0,highlightedIndex:getHighlightedIndexOnOpen(props,state,0)};break;case stateChangeTypes.FunctionCloseMenu:changes={isOpen:!1};break;case stateChangeTypes.FunctionSetHighlightedIndex:changes={highlightedIndex:action.highlightedIndex};break;case stateChangeTypes.FunctionSetInputValue:changes={inputValue:action.inputValue};break;case stateChangeTypes.FunctionReset:changes={highlightedIndex:getDefaultValue$1(props,"highlightedIndex"),isOpen:getDefaultValue$1(props,"isOpen"),selectedItem:getDefaultValue$1(props,"selectedItem"),inputValue:getDefaultValue$1(props,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return{...state,...changes}}prop_types_default().array.isRequired,prop_types_default().func,prop_types_default().func,prop_types_default().func,prop_types_default().bool,prop_types_default().number,prop_types_default().number,prop_types_default().number,prop_types_default().bool,prop_types_default().bool,prop_types_default().bool,prop_types_default().any,prop_types_default().any,prop_types_default().any,prop_types_default().string,prop_types_default().string,prop_types_default().string,prop_types_default().func,prop_types_default().string,prop_types_default().func,prop_types_default().func,prop_types_default().func,prop_types_default().func,prop_types_default().func,prop_types_default().shape({addEventListener:prop_types_default().func,removeEventListener:prop_types_default().func,document:prop_types_default().shape({getElementById:prop_types_default().func,activeElement:prop_types_default().any,body:prop_types_default().any})});__assign(__assign({},defaultProps$3),{getA11yStatusMessage:function getA11yStatusMessage(_a){var isOpen=_a.isOpen,resultCount=_a.resultCount,previousResultCount=_a.previousResultCount;return isOpen?resultCount?resultCount!==previousResultCount?"".concat(resultCount," result").concat(1===resultCount?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}});var stateChangeTypes$1=Object.freeze({__proto__:null,InputKeyDownArrowDown:0,InputKeyDownArrowUp:1,InputKeyDownEscape:2,InputKeyDownHome:3,InputKeyDownEnd:4,InputKeyDownEnter:5,InputChange:6,InputBlur:7,MenuMouseLeave:8,ItemMouseMove:9,ItemClick:10,ToggleButtonClick:11,FunctionToggleMenu:12,FunctionOpenMenu:13,FunctionCloseMenu:14,FunctionSetHighlightedIndex:15,FunctionSelectItem:16,FunctionSetInputValue:17,FunctionReset:18,ControlledPropUpdatedSelectedItem:19});prop_types_default().array.isRequired,prop_types_default().func,prop_types_default().func,prop_types_default().func,prop_types_default().bool,prop_types_default().number,prop_types_default().number,prop_types_default().number,prop_types_default().bool,prop_types_default().bool,prop_types_default().bool,prop_types_default().any,prop_types_default().any,prop_types_default().any,prop_types_default().string,prop_types_default().string,prop_types_default().string,prop_types_default().string,prop_types_default().string,prop_types_default().string,prop_types_default().func,prop_types_default().string,prop_types_default().string,prop_types_default().func,prop_types_default().func,prop_types_default().func,prop_types_default().func,prop_types_default().func,prop_types_default().func,prop_types_default().shape({addEventListener:prop_types_default().func,removeEventListener:prop_types_default().func,document:prop_types_default().shape({getElementById:prop_types_default().func,activeElement:prop_types_default().any,body:prop_types_default().any})});let validatePropTypes$1=noop;const defaultProps$1={...defaultProps$3,getA11yStatusMessage:getA11yStatusMessage$1,circularNavigation:!0};function downshiftUseComboboxReducer(state,action){const{type,props,shiftKey}=action;let changes;switch(type){case 10:changes={isOpen:getDefaultValue$1(props,"isOpen"),highlightedIndex:getDefaultValue$1(props,"highlightedIndex"),selectedItem:props.items[action.index],inputValue:props.itemToString(props.items[action.index])};break;case 0:changes=state.isOpen?{highlightedIndex:getNextWrappingIndex(shiftKey?5:1,state.highlightedIndex,props.items.length,action.getItemNodeFromIndex,props.circularNavigation)}:{highlightedIndex:getHighlightedIndexOnOpen(props,state,1,action.getItemNodeFromIndex),isOpen:props.items.length>=0};break;case 1:changes=state.isOpen?{highlightedIndex:getNextWrappingIndex(shiftKey?-5:-1,state.highlightedIndex,props.items.length,action.getItemNodeFromIndex,props.circularNavigation)}:{highlightedIndex:getHighlightedIndexOnOpen(props,state,-1,action.getItemNodeFromIndex),isOpen:props.items.length>=0};break;case 5:changes={...state.isOpen&&state.highlightedIndex>=0&&{selectedItem:props.items[state.highlightedIndex],isOpen:getDefaultValue$1(props,"isOpen"),highlightedIndex:getDefaultValue$1(props,"highlightedIndex"),inputValue:props.itemToString(props.items[state.highlightedIndex])}};break;case 2:changes={isOpen:!1,highlightedIndex:-1,...!state.isOpen&&{selectedItem:null,inputValue:""}};break;case 3:changes={highlightedIndex:getNextNonDisabledIndex(1,0,props.items.length,action.getItemNodeFromIndex,!1)};break;case 4:changes={highlightedIndex:getNextNonDisabledIndex(-1,props.items.length-1,props.items.length,action.getItemNodeFromIndex,!1)};break;case 7:changes={isOpen:!1,highlightedIndex:-1,...state.highlightedIndex>=0&&action.selectItem&&{selectedItem:props.items[state.highlightedIndex],inputValue:props.itemToString(props.items[state.highlightedIndex])}};break;case 6:changes={isOpen:!0,highlightedIndex:getDefaultValue$1(props,"highlightedIndex"),inputValue:action.inputValue};break;case 16:changes={selectedItem:action.selectedItem,inputValue:props.itemToString(action.selectedItem)};break;case 19:changes={inputValue:action.inputValue};break;default:return downshiftCommonReducer(state,action,stateChangeTypes$1)}return{...state,...changes}}function useCombobox(userProps){void 0===userProps&&(userProps={}),validatePropTypes$1(userProps,useCombobox);const props={...defaultProps$1,...userProps},{initialIsOpen,defaultIsOpen,items,scrollIntoView,environment,getA11yStatusMessage,getA11ySelectionMessage,itemToString}=props,initialState=function getInitialState$1(props){const initialState=getInitialState$2(props),{selectedItem}=initialState;let{inputValue}=initialState;return""===inputValue&&selectedItem&&void 0===props.defaultInputValue&&void 0===props.initialInputValue&&void 0===props.inputValue&&(inputValue=props.itemToString(selectedItem)),{...initialState,inputValue}}(props),[state,dispatch]=function useControlledReducer(reducer,initialState,props){const previousSelectedItemRef=(0,react.useRef)(),[state,dispatch]=useEnhancedReducer(reducer,initialState,props);return(0,react.useEffect)((()=>{isControlledProp(props,"selectedItem")&&(previousSelectedItemRef.current!==props.selectedItem&&dispatch({type:19,inputValue:props.itemToString(props.selectedItem)}),previousSelectedItemRef.current=state.selectedItem===previousSelectedItemRef.current?props.selectedItem:state.selectedItem)})),[getState(state,props),dispatch]}(downshiftUseComboboxReducer,initialState,props),{isOpen,highlightedIndex,selectedItem,inputValue}=state,menuRef=(0,react.useRef)(null),itemRefs=(0,react.useRef)({}),inputRef=(0,react.useRef)(null),toggleButtonRef=(0,react.useRef)(null),comboboxRef=(0,react.useRef)(null),isInitialMountRef=(0,react.useRef)(!0),elementIds=useElementIds(props),previousResultCountRef=(0,react.useRef)(),latest=useLatestRef({state,props}),getItemNodeFromIndex=(0,react.useCallback)((index=>itemRefs.current[elementIds.getItemId(index)]),[elementIds]);useA11yMessageSetter(getA11yStatusMessage,[isOpen,highlightedIndex,inputValue,items],{isInitialMount:isInitialMountRef.current,previousResultCount:previousResultCountRef.current,items,environment,itemToString,...state}),useA11yMessageSetter(getA11ySelectionMessage,[selectedItem],{isInitialMount:isInitialMountRef.current,previousResultCount:previousResultCountRef.current,items,environment,itemToString,...state});const shouldScrollRef=useScrollIntoView({menuElement:menuRef.current,highlightedIndex,isOpen,itemRefs,scrollIntoView,getItemNodeFromIndex});useControlPropsValidator({isInitialMount:isInitialMountRef.current,props,state}),(0,react.useEffect)((()=>{(initialIsOpen||defaultIsOpen||isOpen)&&inputRef.current&&inputRef.current.focus()}),[]),(0,react.useEffect)((()=>{isInitialMountRef.current||(previousResultCountRef.current=items.length)}));const mouseAndTouchTrackersRef=useMouseAndTouchTracker(isOpen,[comboboxRef,menuRef,toggleButtonRef],environment,(()=>{dispatch({type:7,selectItem:!1})})),setGetterPropCallInfo=useGetterPropsCalledChecker();(0,react.useEffect)((()=>{isInitialMountRef.current=!1}),[]),(0,react.useEffect)((()=>{isOpen||(itemRefs.current={})}),[isOpen]);const inputKeyDownHandlers=(0,react.useMemo)((()=>({ArrowDown(event){event.preventDefault(),dispatch({type:0,shiftKey:event.shiftKey,getItemNodeFromIndex})},ArrowUp(event){event.preventDefault(),dispatch({type:1,shiftKey:event.shiftKey,getItemNodeFromIndex})},Home(event){latest.current.state.isOpen&&(event.preventDefault(),dispatch({type:3,getItemNodeFromIndex}))},End(event){latest.current.state.isOpen&&(event.preventDefault(),dispatch({type:4,getItemNodeFromIndex}))},Escape(event){const latestState=latest.current.state;(latestState.isOpen||latestState.inputValue||latestState.selectedItem||latestState.highlightedIndex>-1)&&(event.preventDefault(),dispatch({type:2}))},Enter(event){const latestState=latest.current.state;!latestState.isOpen||latestState.highlightedIndex<0||229===event.which||(event.preventDefault(),dispatch({type:5,getItemNodeFromIndex}))}})),[dispatch,latest,getItemNodeFromIndex]),getLabelProps=(0,react.useCallback)((labelProps=>({id:elementIds.labelId,htmlFor:elementIds.inputId,...labelProps})),[elementIds]),getMenuProps=(0,react.useCallback)((function(_temp,_temp2){let{onMouseLeave,refKey="ref",ref,...rest}=void 0===_temp?{}:_temp,{suppressRefError=!1}=void 0===_temp2?{}:_temp2;return setGetterPropCallInfo("getMenuProps",suppressRefError,refKey,menuRef),{[refKey]:handleRefs(ref,(menuNode=>{menuRef.current=menuNode})),id:elementIds.menuId,role:"listbox","aria-labelledby":elementIds.labelId,onMouseLeave:callAllEventHandlers(onMouseLeave,(()=>{dispatch({type:8})})),...rest}}),[dispatch,setGetterPropCallInfo,elementIds]),getItemProps=(0,react.useCallback)((function(_temp3){let{item,index,refKey="ref",ref,onMouseMove,onMouseDown,onClick,onPress,disabled,...rest}=void 0===_temp3?{}:_temp3;const{props:latestProps,state:latestState}=latest.current,itemIndex=getItemIndex(index,item,latestProps.items);if(itemIndex<0)throw new Error("Pass either item or item index in getItemProps!");const customClickHandler=onClick;return{[refKey]:handleRefs(ref,(itemNode=>{itemNode&&(itemRefs.current[elementIds.getItemId(itemIndex)]=itemNode)})),disabled,role:"option","aria-selected":`${itemIndex===latestState.highlightedIndex}`,id:elementIds.getItemId(itemIndex),...!disabled&&{onClick:callAllEventHandlers(customClickHandler,(()=>{dispatch({type:10,index})}))},onMouseMove:callAllEventHandlers(onMouseMove,(()=>{index!==latestState.highlightedIndex&&(shouldScrollRef.current=!1,dispatch({type:9,index,disabled}))})),onMouseDown:callAllEventHandlers(onMouseDown,(e=>e.preventDefault())),...rest}}),[dispatch,latest,shouldScrollRef,elementIds]),getToggleButtonProps=(0,react.useCallback)((function(_temp4){let{onClick,onPress,refKey="ref",ref,...rest}=void 0===_temp4?{}:_temp4;return{[refKey]:handleRefs(ref,(toggleButtonNode=>{toggleButtonRef.current=toggleButtonNode})),id:elementIds.toggleButtonId,tabIndex:-1,...!rest.disabled&&{onClick:callAllEventHandlers(onClick,(()=>{dispatch({type:11}),!latest.current.state.isOpen&&inputRef.current&&inputRef.current.focus()}))},...rest}}),[dispatch,latest,elementIds]),getInputProps=(0,react.useCallback)((function(_temp5,_temp6){let{onKeyDown,onChange,onInput,onBlur,onChangeText,refKey="ref",ref,...rest}=void 0===_temp5?{}:_temp5,{suppressRefError=!1}=void 0===_temp6?{}:_temp6;setGetterPropCallInfo("getInputProps",suppressRefError,refKey,inputRef);const latestState=latest.current.state,inputHandleKeyDown=event=>{const key=normalizeArrowKey(event);key&&inputKeyDownHandlers[key]&&inputKeyDownHandlers[key](event)},inputHandleChange=event=>{dispatch({type:6,inputValue:event.target.value})},inputHandleBlur=()=>{latestState.isOpen&&!mouseAndTouchTrackersRef.current.isMouseDown&&dispatch({type:7,selectItem:!0})};let eventHandlers={};return rest.disabled||(eventHandlers={onChange:callAllEventHandlers(onChange,onInput,inputHandleChange),onKeyDown:callAllEventHandlers(onKeyDown,inputHandleKeyDown),onBlur:callAllEventHandlers(onBlur,inputHandleBlur)}),{[refKey]:handleRefs(ref,(inputNode=>{inputRef.current=inputNode})),id:elementIds.inputId,"aria-autocomplete":"list","aria-controls":elementIds.menuId,...latestState.isOpen&&latestState.highlightedIndex>-1&&{"aria-activedescendant":elementIds.getItemId(latestState.highlightedIndex)},"aria-labelledby":elementIds.labelId,autoComplete:"off",value:latestState.inputValue,...eventHandlers,...rest}}),[dispatch,inputKeyDownHandlers,latest,mouseAndTouchTrackersRef,setGetterPropCallInfo,elementIds]),getComboboxProps=(0,react.useCallback)((function(_temp7,_temp8){let{refKey="ref",ref,...rest}=void 0===_temp7?{}:_temp7,{suppressRefError=!1}=void 0===_temp8?{}:_temp8;return setGetterPropCallInfo("getComboboxProps",suppressRefError,refKey,comboboxRef),{[refKey]:handleRefs(ref,(comboboxNode=>{comboboxRef.current=comboboxNode})),role:"combobox","aria-haspopup":"listbox","aria-owns":elementIds.menuId,"aria-expanded":latest.current.state.isOpen,...rest}}),[latest,setGetterPropCallInfo,elementIds]),toggleMenu=(0,react.useCallback)((()=>{dispatch({type:12})}),[dispatch]),closeMenu=(0,react.useCallback)((()=>{dispatch({type:14})}),[dispatch]),openMenu=(0,react.useCallback)((()=>{dispatch({type:13})}),[dispatch]),setHighlightedIndex=(0,react.useCallback)((newHighlightedIndex=>{dispatch({type:15,highlightedIndex:newHighlightedIndex})}),[dispatch]),selectItem=(0,react.useCallback)((newSelectedItem=>{dispatch({type:16,selectedItem:newSelectedItem})}),[dispatch]);return{getItemProps,getLabelProps,getMenuProps,getInputProps,getComboboxProps,getToggleButtonProps,toggleMenu,openMenu,closeMenu,setHighlightedIndex,setInputValue:(0,react.useCallback)((newInputValue=>{dispatch({type:17,inputValue:newInputValue})}),[dispatch]),selectItem,reset:(0,react.useCallback)((()=>{dispatch({type:18})}),[dispatch]),highlightedIndex,isOpen,selectedItem,inputValue}}useCombobox.stateChangeTypes=stateChangeTypes$1;prop_types_default().array,prop_types_default().array,prop_types_default().array,prop_types_default().func,prop_types_default().func,prop_types_default().func,prop_types_default().number,prop_types_default().number,prop_types_default().number,prop_types_default().func,prop_types_default().func,prop_types_default().string,prop_types_default().string,prop_types_default().shape({addEventListener:prop_types_default().func,removeEventListener:prop_types_default().func,document:prop_types_default().shape({getElementById:prop_types_default().func,activeElement:prop_types_default().any,body:prop_types_default().any})})},"./node_modules/events/events.js":module=>{"use strict";var ReflectOwnKeys,R="object"==typeof Reflect?Reflect:null,ReflectApply=R&&"function"==typeof R.apply?R.apply:function ReflectApply(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};ReflectOwnKeys=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}:function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target)};var NumberIsNaN=Number.isNaN||function NumberIsNaN(value){return value!=value};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter,module.exports.once=function once(emitter,name){return new Promise((function(resolve,reject){function errorListener(err){emitter.removeListener(name,resolver),reject(err)}function resolver(){"function"==typeof emitter.removeListener&&emitter.removeListener("error",errorListener),resolve([].slice.call(arguments))}eventTargetAgnosticAddListener(emitter,name,resolver,{once:!0}),"error"!==name&&function addErrorHandlerIfEventEmitter(emitter,handler,flags){"function"==typeof emitter.on&&eventTargetAgnosticAddListener(emitter,"error",handler,flags)}(emitter,errorListener,{once:!0})}))},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(listener){if("function"!=typeof listener)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener)}function _getMaxListeners(that){return void 0===that._maxListeners?EventEmitter.defaultMaxListeners:that._maxListeners}function _addListener(target,type,listener,prepend){var m,events,existing;if(checkListener(listener),void 0===(events=target._events)?(events=target._events=Object.create(null),target._eventsCount=0):(void 0!==events.newListener&&(target.emit("newListener",type,listener.listener?listener.listener:listener),events=target._events),existing=events[type]),void 0===existing)existing=events[type]=listener,++target._eventsCount;else if("function"==typeof existing?existing=events[type]=prepend?[listener,existing]:[existing,listener]:prepend?existing.unshift(listener):existing.push(listener),(m=_getMaxListeners(target))>0&&existing.length>m&&!existing.warned){existing.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+" "+String(type)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=target,w.type=type,w.count=existing.length,function ProcessEmitWarning(warning){console&&console.warn&&console.warn(warning)}(w)}return target}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(target,type,listener){var state={fired:!1,wrapFn:void 0,target,type,listener},wrapped=onceWrapper.bind(state);return wrapped.listener=listener,state.wrapFn=wrapped,wrapped}function _listeners(target,type,unwrap){var events=target._events;if(void 0===events)return[];var evlistener=events[type];return void 0===evlistener?[]:"function"==typeof evlistener?unwrap?[evlistener.listener||evlistener]:[evlistener]:unwrap?function unwrapListeners(arr){for(var ret=new Array(arr.length),i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}(evlistener):arrayClone(evlistener,evlistener.length)}function listenerCount(type){var events=this._events;if(void 0!==events){var evlistener=events[type];if("function"==typeof evlistener)return 1;if(void 0!==evlistener)return evlistener.length}return 0}function arrayClone(arr,n){for(var copy=new Array(n),i=0;i<n;++i)copy[i]=arr[i];return copy}function eventTargetAgnosticAddListener(emitter,name,listener,flags){if("function"==typeof emitter.on)flags.once?emitter.once(name,listener):emitter.on(name,listener);else{if("function"!=typeof emitter.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof emitter);emitter.addEventListener(name,(function wrapListener(arg){flags.once&&emitter.removeEventListener(name,wrapListener),listener(arg)}))}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(arg){if("number"!=typeof arg||arg<0||NumberIsNaN(arg))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+arg+".");defaultMaxListeners=arg}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(n){if("number"!=typeof n||n<0||NumberIsNaN(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function emit(type){for(var args=[],i=1;i<arguments.length;i++)args.push(arguments[i]);var doError="error"===type,events=this._events;if(void 0!==events)doError=doError&&void 0===events.error;else if(!doError)return!1;if(doError){var er;if(args.length>0&&(er=args[0]),er instanceof Error)throw er;var err=new Error("Unhandled error."+(er?" ("+er.message+")":""));throw err.context=er,err}var handler=events[type];if(void 0===handler)return!1;if("function"==typeof handler)ReflectApply(handler,this,args);else{var len=handler.length,listeners=arrayClone(handler,len);for(i=0;i<len;++i)ReflectApply(listeners[i],this,args)}return!0},EventEmitter.prototype.addListener=function addListener(type,listener){return _addListener(this,type,listener,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(type,listener){return _addListener(this,type,listener,!0)},EventEmitter.prototype.once=function once(type,listener){return checkListener(listener),this.on(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(type,listener){return checkListener(listener),this.prependListener(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.removeListener=function removeListener(type,listener){var list,events,position,i,originalListener;if(checkListener(listener),void 0===(events=this._events))return this;if(void 0===(list=events[type]))return this;if(list===listener||list.listener===listener)0==--this._eventsCount?this._events=Object.create(null):(delete events[type],events.removeListener&&this.emit("removeListener",type,list.listener||listener));else if("function"!=typeof list){for(position=-1,i=list.length-1;i>=0;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener,position=i;break}if(position<0)return this;0===position?list.shift():function spliceOne(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}(list,position),1===list.length&&(events[type]=list[0]),void 0!==events.removeListener&&this.emit("removeListener",type,originalListener||listener)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(type){var listeners,events,i;if(void 0===(events=this._events))return this;if(void 0===events.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==events[type]&&(0==--this._eventsCount?this._events=Object.create(null):delete events[type]),this;if(0===arguments.length){var key,keys=Object.keys(events);for(i=0;i<keys.length;++i)"removeListener"!==(key=keys[i])&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(listeners=events[type]))this.removeListener(type,listeners);else if(void 0!==listeners)for(i=listeners.length-1;i>=0;i--)this.removeListener(type,listeners[i]);return this},EventEmitter.prototype.listeners=function listeners(type){return _listeners(this,type,!0)},EventEmitter.prototype.rawListeners=function rawListeners(type){return _listeners(this,type,!1)},EventEmitter.listenerCount=function(emitter,type){return"function"==typeof emitter.listenerCount?emitter.listenerCount(type):listenerCount.call(emitter,type)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]}},"./node_modules/fetch-ponyfill/build/fetch-browser.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global){"use strict";function fetchPonyfill(options){var Promise=options&&options.Promise||global.Promise,XMLHttpRequest=options&&options.XMLHttpRequest||global.XMLHttpRequest;return function(){var globalThis=Object.create(global,{fetch:{value:void 0,writable:!0}});return function(exports){var global=void 0!==globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==global&&global,support={searchParams:"URLSearchParams"in global,iterable:"Symbol"in global&&"iterator"in Symbol,blob:"FileReader"in global&&"Blob"in global&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in global,arrayBuffer:"ArrayBuffer"in global};function isDataView(obj){return obj&&DataView.prototype.isPrototypeOf(obj)}if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1};function normalizeName(name){if("string"!=typeof name&&(name=String(name)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(name)||""===name)throw new TypeError("Invalid character in header field name");return name.toLowerCase()}function normalizeValue(value){return"string"!=typeof value&&(value=String(value)),value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:void 0===value,value}}};return support.iterable&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function Headers(headers){this.map={},headers instanceof Headers?headers.forEach((function(value,name){this.append(name,value)}),this):Array.isArray(headers)?headers.forEach((function(header){this.append(header[0],header[1])}),this):headers&&Object.getOwnPropertyNames(headers).forEach((function(name){this.append(name,headers[name])}),this)}function consumed(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function fileReaderReady(reader){return new Promise((function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(reader.error)}}))}function readBlobAsArrayBuffer(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsArrayBuffer(blob),promise}function readBlobAsText(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsText(blob),promise}function readArrayBufferAsText(buf){for(var view=new Uint8Array(buf),chars=new Array(view.length),i=0;i<view.length;i++)chars[i]=String.fromCharCode(view[i]);return chars.join("")}function bufferClone(buf){if(buf.slice)return buf.slice(0);var view=new Uint8Array(buf.byteLength);return view.set(new Uint8Array(buf)),view.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(body){this.bodyUsed=this.bodyUsed,this._bodyInit=body,body?"string"==typeof body?this._bodyText=body:support.blob&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:support.formData&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():support.arrayBuffer&&support.blob&&isDataView(body)?(this._bodyArrayBuffer=bufferClone(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))?this._bodyArrayBuffer=bufferClone(body):this._bodyText=body=Object.prototype.toString.call(body):this._bodyText="",this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var isConsumed=consumed(this);return isConsumed||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(name,value){name=normalizeName(name),value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value},Headers.prototype.delete=function(name){delete this.map[normalizeName(name)]},Headers.prototype.get=function(name){return name=normalizeName(name),this.has(name)?this.map[name]:null},Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))},Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)},Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map)this.map.hasOwnProperty(name)&&callback.call(thisArg,this.map[name],name,this)},Headers.prototype.keys=function(){var items=[];return this.forEach((function(value,name){items.push(name)})),iteratorFor(items)},Headers.prototype.values=function(){var items=[];return this.forEach((function(value){items.push(value)})),iteratorFor(items)},Headers.prototype.entries=function(){var items=[];return this.forEach((function(value,name){items.push([name,value])})),iteratorFor(items)},support.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}function Request(input,options){if(!(this instanceof Request))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var body=(options=options||{}).body;if(input instanceof Request){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,options.headers||(this.headers=new Headers(input.headers)),this.method=input.method,this.mode=input.mode,this.signal=input.signal,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=options.credentials||this.credentials||"same-origin",!options.headers&&this.headers||(this.headers=new Headers(options.headers)),this.method=normalizeMethod(options.method||this.method||"GET"),this.mode=options.mode||this.mode||null,this.signal=options.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(body),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==options.cache&&"no-cache"!==options.cache)){var reParamSearch=/([?&])_=[^&]*/;if(reParamSearch.test(this.url))this.url=this.url.replace(reParamSearch,"$1_="+(new Date).getTime());else{var reQueryString=/\?/;this.url+=(reQueryString.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function decode(body){var form=new FormData;return body.trim().split("&").forEach((function(bytes){if(bytes){var split=bytes.split("="),name=split.shift().replace(/\+/g," "),value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}})),form}function parseHeaders(rawHeaders){var headers=new Headers;return rawHeaders.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(header){return 0===header.indexOf("\n")?header.substr(1,header.length):header})).forEach((function(line){var parts=line.split(":"),key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}})),headers}function Response(bodyInit,options){if(!(this instanceof Response))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');options||(options={}),this.type="default",this.status=void 0===options.status?200:options.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in options?options.statusText:"",this.headers=new Headers(options.headers),this.url=options.url||"",this._initBody(bodyInit)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var response=new Response(null,{status:0,statusText:""});return response.type="error",response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status,headers:{location:url}})},exports.DOMException=global.DOMException;try{new exports.DOMException}catch(err){exports.DOMException=function(message,name){this.message=message,this.name=name;var error=Error(message);this.stack=error.stack},exports.DOMException.prototype=Object.create(Error.prototype),exports.DOMException.prototype.constructor=exports.DOMException}function fetch(input,init){return new Promise((function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted)return reject(new exports.DOMException("Aborted","AbortError"));var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}function fixUrl(url){try{return""===url&&global.location.href?global.location.href:url}catch(e){return url}}xhr.onload=function(){var options={status:xhr.status,statusText:xhr.statusText,headers:parseHeaders(xhr.getAllResponseHeaders()||"")};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;setTimeout((function(){resolve(new Response(body,options))}),0)},xhr.onerror=function(){setTimeout((function(){reject(new TypeError("Network request failed"))}),0)},xhr.ontimeout=function(){setTimeout((function(){reject(new TypeError("Network request failed"))}),0)},xhr.onabort=function(){setTimeout((function(){reject(new exports.DOMException("Aborted","AbortError"))}),0)},xhr.open(request.method,fixUrl(request.url),!0),"include"===request.credentials?xhr.withCredentials=!0:"omit"===request.credentials&&(xhr.withCredentials=!1),"responseType"in xhr&&(support.blob?xhr.responseType="blob":support.arrayBuffer&&request.headers.get("Content-Type")&&-1!==request.headers.get("Content-Type").indexOf("application/octet-stream")&&(xhr.responseType="arraybuffer")),!init||"object"!=typeof init.headers||init.headers instanceof Headers?request.headers.forEach((function(value,name){xhr.setRequestHeader(name,value)})):Object.getOwnPropertyNames(init.headers).forEach((function(name){xhr.setRequestHeader(name,normalizeValue(init.headers[name]))})),request.signal&&(request.signal.addEventListener("abort",abortXhr),xhr.onreadystatechange=function(){4===xhr.readyState&&request.signal.removeEventListener("abort",abortXhr)}),xhr.send(void 0===request._bodyInit?null:request._bodyInit)}))}fetch.polyfill=!0,global.fetch||(global.fetch=fetch,global.Headers=Headers,global.Request=Request,global.Response=Response),exports.Headers=Headers,exports.Request=Request,exports.Response=Response,exports.fetch=fetch,Object.defineProperty(exports,"__esModule",{value:!0})}(exports),{fetch:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response,DOMException:globalThis.DOMException}}()}void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return fetchPonyfill}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==__webpack_require__.g?__webpack_require__.g:this)},"./node_modules/process/browser.js":module=>{var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},"./node_modules/react-is/cjs/react-is.production.min.js":(__unused_webpack_module,exports)=>{"use strict";var b=60103,c=60106,d=60107,e=60108,f=60114,g=60109,h=60110,k=60112,l=60113,m=60120,n=60115,p=60116,q=60121,r=60122,u=60117,v=60129,w=60131;if("function"==typeof Symbol&&Symbol.for){var x=Symbol.for;b=x("react.element"),c=x("react.portal"),d=x("react.fragment"),e=x("react.strict_mode"),f=x("react.profiler"),g=x("react.provider"),h=x("react.context"),k=x("react.forward_ref"),l=x("react.suspense"),m=x("react.suspense_list"),n=x("react.memo"),p=x("react.lazy"),q=x("react.block"),r=x("react.server.block"),u=x("react.fundamental"),v=x("react.debug_trace_mode"),w=x("react.legacy_hidden")}function y(a){if("object"==typeof a&&null!==a){var t=a.$$typeof;switch(t){case b:switch(a=a.type){case d:case f:case e:case l:case m:return a;default:switch(a=a&&a.$$typeof){case h:case k:case p:case n:case g:return a;default:return t}}case c:return t}}}var z=g,A=b,B=k,C=d,D=p,E=n,F=c,G=f,H=e,I=l;exports.ContextConsumer=h,exports.ContextProvider=z,exports.Element=A,exports.ForwardRef=B,exports.Fragment=C,exports.Lazy=D,exports.Memo=E,exports.Portal=F,exports.Profiler=G,exports.StrictMode=H,exports.Suspense=I,exports.isAsyncMode=function(){return!1},exports.isConcurrentMode=function(){return!1},exports.isContextConsumer=function(a){return y(a)===h},exports.isContextProvider=function(a){return y(a)===g},exports.isElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===b},exports.isForwardRef=function(a){return y(a)===k},exports.isFragment=function(a){return y(a)===d},exports.isLazy=function(a){return y(a)===p},exports.isMemo=function(a){return y(a)===n},exports.isPortal=function(a){return y(a)===c},exports.isProfiler=function(a){return y(a)===f},exports.isStrictMode=function(a){return y(a)===e},exports.isSuspense=function(a){return y(a)===l},exports.isValidElementType=function(a){return"string"==typeof a||"function"==typeof a||a===d||a===f||a===v||a===e||a===l||a===m||a===w||"object"==typeof a&&null!==a&&(a.$$typeof===p||a.$$typeof===n||a.$$typeof===g||a.$$typeof===h||a.$$typeof===k||a.$$typeof===u||a.$$typeof===q||a[0]===r)},exports.typeOf=y},"./node_modules/react-is/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/react-is/cjs/react-is.production.min.js")},"./node_modules/store2/dist/store2.js":function(module){!function(window,define){var _={version:"2.14.2",areas:{},apis:{},nsdelim:".",inherit:function(api,o){for(var p in api)o.hasOwnProperty(p)||Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(api,p));return o},stringify:function(d,fn){return void 0===d||"function"==typeof d?d+"":JSON.stringify(d,fn||_.replace)},parse:function(s,fn){try{return JSON.parse(s,fn||_.revive)}catch(e){return s}},fn:function(name,fn){for(var api in _.storeAPI[name]=fn,_.apis)_.apis[api][name]=fn},get:function(area,key){return area.getItem(key)},set:function(area,key,string){area.setItem(key,string)},remove:function(area,key){area.removeItem(key)},key:function(area,i){return area.key(i)},length:function(area){return area.length},clear:function(area){area.clear()},Store:function(id,area,namespace){var store=_.inherit(_.storeAPI,(function(key,data,overwrite){return 0===arguments.length?store.getAll():"function"==typeof data?store.transact(key,data,overwrite):void 0!==data?store.set(key,data,overwrite):"string"==typeof key||"number"==typeof key?store.get(key):"function"==typeof key?store.each(key):key?store.setAll(key,data):store.clear()}));store._id=id;try{area.setItem("__store2_test","ok"),store._area=area,area.removeItem("__store2_test")}catch(e){store._area=_.storage("fake")}return store._ns=namespace||"",_.areas[id]||(_.areas[id]=store._area),_.apis[store._ns+store._id]||(_.apis[store._ns+store._id]=store),store},storeAPI:{area:function(id,area){var store=this[id];return store&&store.area||(store=_.Store(id,area,this._ns),this[id]||(this[id]=store)),store},namespace:function(namespace,singleArea,delim){if(delim=delim||this._delim||_.nsdelim,!namespace)return this._ns?this._ns.substring(0,this._ns.length-delim.length):"";var ns=namespace,store=this[ns];if(!(store&&store.namespace||((store=_.Store(this._id,this._area,this._ns+ns+delim))._delim=delim,this[ns]||(this[ns]=store),singleArea)))for(var name in _.areas)store.area(name,_.areas[name]);return store},isFake:function(force){return force?(this._real=this._area,this._area=_.storage("fake")):!1===force&&(this._area=this._real||this._area),"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(key){return this._area.has?this._area.has(this._in(key)):!!(this._in(key)in this._area)},size:function(){return this.keys().length},each:function(fn,fill){for(var i=0,m=_.length(this._area);i<m;i++){var key=this._out(_.key(this._area,i));if(void 0!==key&&!1===fn.call(this,key,this.get(key),fill))break;m>_.length(this._area)&&(m--,i--)}return fill||this},keys:function(fillList){return this.each((function(k,v,list){list.push(k)}),fillList||[])},get:function(key,alt){var fn,s=_.get(this._area,this._in(key));return"function"==typeof alt&&(fn=alt,alt=null),null!==s?_.parse(s,fn):null!=alt?alt:s},getAll:function(fillObj){return this.each((function(k,v,all){all[k]=v}),fillObj||{})},transact:function(key,fn,alt){var val=this.get(key,alt),ret=fn(val);return this.set(key,void 0===ret?val:ret),this},set:function(key,data,overwrite){var replacer,d=this.get(key);return null!=d&&!1===overwrite?data:("function"==typeof overwrite&&(replacer=overwrite,overwrite=void 0),_.set(this._area,this._in(key),_.stringify(data,replacer),overwrite)||d)},setAll:function(data,overwrite){var changed,val;for(var key in data)val=data[key],this.set(key,val,overwrite)!==val&&(changed=!0);return changed},add:function(key,data,replacer){var d=this.get(key);if(d instanceof Array)data=d.concat(data);else if(null!==d){var type=typeof d;if(type===typeof data&&"object"===type){for(var k in data)d[k]=data[k];data=d}else data=d+data}return _.set(this._area,this._in(key),_.stringify(data,replacer)),data},remove:function(key,alt){var d=this.get(key,alt);return _.remove(this._area,this._in(key)),d},clear:function(){return this._ns?this.each((function(k){_.remove(this._area,this._in(k))}),1):_.clear(this._area),this},clearAll:function(){var area=this._area;for(var id in _.areas)_.areas.hasOwnProperty(id)&&(this._area=_.areas[id],this.clear());return this._area=area,this},_in:function(k){return"string"!=typeof k&&(k=_.stringify(k)),this._ns?this._ns+k:k},_out:function(k){return this._ns?k&&0===k.indexOf(this._ns)?k.substring(this._ns.length):void 0:k}},storage:function(name){return _.inherit(_.storageAPI,{items:{},name})},storageAPI:{length:0,has:function(k){return this.items.hasOwnProperty(k)},key:function(i){var c=0;for(var k in this.items)if(this.has(k)&&i===c++)return k},setItem:function(k,v){this.has(k)||this.length++,this.items[k]=v},removeItem:function(k){this.has(k)&&(delete this.items[k],this.length--)},getItem:function(k){return this.has(k)?this.items[k]:null},clear:function(){for(var k in this.items)this.removeItem(k)}}},store=_.Store("local",function(){try{return localStorage}catch(e){}}());store.local=store,store._=_,store.area("session",function(){try{return sessionStorage}catch(e){}}()),store.area("page",_.storage("page")),"function"==typeof define&&void 0!==define.amd?define("store2",[],(function(){return store})):module.exports?module.exports=store:(window.store&&(_.conflict=window.store),window.store=store)}(this,this&&this.define)},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":module=>{"use strict";var stylesInDOM=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDOM.length;i++)if(stylesInDOM[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var indexByIdentifier=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3],supports:item[4],layer:item[5]};if(-1!==indexByIdentifier)stylesInDOM[indexByIdentifier].references++,stylesInDOM[indexByIdentifier].updater(obj);else{var updater=addElementStyle(obj,options);options.byIndex=i,stylesInDOM.splice(i,0,{identifier,updater,references:1})}identifiers.push(identifier)}return identifiers}function addElementStyle(obj,options){var api=options.domAPI(options);api.update(obj);return function updater(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap&&newObj.supports===obj.supports&&newObj.layer===obj.layer)return;api.update(obj=newObj)}else api.remove()}}module.exports=function(list,options){var lastIdentifiers=modulesToDom(list=list||[],options=options||{});return function update(newList){newList=newList||[];for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDOM[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDOM[_index].references&&(stylesInDOM[_index].updater(),stylesInDOM.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":module=>{"use strict";var memo={};module.exports=function insertBySelector(insert,style){var target=function getTarget(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}(insert);if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":module=>{"use strict";module.exports=function insertStyleElement(options){var element=document.createElement("style");return options.setAttributes(element,options.attributes),options.insert(element,options.options),element}},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=function setAttributesWithoutAttributes(styleElement){var nonce=__webpack_require__.nc;nonce&&styleElement.setAttribute("nonce",nonce)}},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":module=>{"use strict";module.exports=function domAPI(options){var styleElement=options.insertStyleElement(options);return{update:function update(obj){!function apply(styleElement,options,obj){var css="";obj.supports&&(css+="@supports (".concat(obj.supports,") {")),obj.media&&(css+="@media ".concat(obj.media," {"));var needLayer=void 0!==obj.layer;needLayer&&(css+="@layer".concat(obj.layer.length>0?" ".concat(obj.layer):""," {")),css+=obj.css,needLayer&&(css+="}"),obj.media&&(css+="}"),obj.supports&&(css+="}");var sourceMap=obj.sourceMap;sourceMap&&"undefined"!=typeof btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),options.styleTagTransform(css,styleElement,options.options)}(styleElement,options,obj)},remove:function remove(){!function removeStyleElement(styleElement){if(null===styleElement.parentNode)return!1;styleElement.parentNode.removeChild(styleElement)}(styleElement)}}}},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":module=>{"use strict";module.exports=function styleTagTransform(css,styleElement){if(styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}},"./node_modules/@constructor-io/constructorio-client-javascript/package.json":module=>{"use strict";module.exports=JSON.parse('{"name":"@constructor-io/constructorio-client-javascript","version":"2.34.1","description":"Constructor.io JavaScript client","main":"lib/constructorio.js","types":"lib/types/constructorio.d.ts","scripts":{"clean":"sudo rm -rf node_modules package-lock.json","version":"chmod +x ./scripts/verify-node-version.sh && ./scripts/verify-node-version.sh && npm run docs && git add ./docs/* && npm run bundle && git add -A ./dist","check-lisc":"license-checker --production --onlyAllow \'Apache-2.0;BSD-3-Clause;MIT\'","lint":"eslint \'src/**/*.js\' \'spec/**/*.js\'","test":"npm run compile && mkdir -p test && cp -rf lib/* test && mocha ./spec/*","test:types":"tsd .","test:parallel":"npm run compile && mkdir -p test && cp -rf lib/* test && mocha --parallel ./spec/*","test:src":"mkdir -p test && cp -rf src/* test && mocha ./spec/*","test:src:parallel":"mkdir -p test && cp -rf src/* test && mocha --parallel ./spec/*","test:bundled":"npm run bundle && BUNDLED=true PACKAGE_VERSION=$(echo $npm_package_version) mocha ./spec/*","test:bundled:parallel":"npm run bundle && BUNDLED=true PACKAGE_VERSION=$(echo $npm_package_version) mocha --parallel ./spec/*","test:all":"npm run test && npm run test:bundled","test:all:parallel":"npm run test:parallel && npm run test:bundled:parallel","precoverage":"rm -rf ./coverage && rm -rf ./.nyc_output","coverage":"nyc --all --reporter=html npm run test:src","postcoverage":"open coverage/index.html && rm -rf test","docs":"jsdoc --configure ./.jsdoc.json ./README.md --recurse ./src --destination ./docs","compile":"babel src/ -d lib/ --copy-files && rm -rf lib/types/tests","prepublish":"npm run compile","bundle":"rm -rf ./dist/* && npm run compile && node bundle.js","prepare":"husky install"},"repository":{"type":"git","url":"git+https://github.com/Constructor-io/constructorio-client-javascript.git"},"author":"constructor.io","license":"MIT","bugs":{"url":"https://github.com/Constructor-io/constructorio-client-javascript/issues"},"homepage":"https://github.com/Constructor-io/constructorio-client-javascript#readme","files":["lib/**/*"],"devDependencies":{"@babel/cli":"^7.15.7","@babel/core":"^7.15.8","@babel/plugin-transform-runtime":"^7.16.4","@babel/preset-env":"^7.15.8","@babel/register":"^7.15.3","@cspell/eslint-plugin":"^6.8.2","chai":"^4.2.0","chai-as-promised":"^7.1.1","dotenv":"^8.6.0","esbuild":"^0.12.28","eslint":"^8.17.0","eslint-config-airbnb-base":"^15.0.0","eslint-plugin-import":"^2.25.2","husky":"^7.0.4","jsdoc":"^3.6.7","jsdom":"^16.5.0","license-checker":"^25.0.1","lodash.clonedeep":"^4.5.0","minami":"^1.2.3","mocha":"^9.1.3","nyc":"^15.1.0","qs":"^6.11.0","sinon":"^7.5.0","sinon-chai":"^3.7.0","tsd":"^0.24.1"},"dependencies":{"@constructor-io/constructorio-id":"^2.4.10","crc-32":"^1.2.2","events":"^3.0.0","fetch-ponyfill":"^7.1.0","store2":"^2.14.2"},"peerDependencies":{"@babel/runtime":"^7.19.0"},"tsd":{"directory":"src/types/tests"}}')}}]);